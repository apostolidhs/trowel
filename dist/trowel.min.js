!function(e,t){"function"==typeof define&&define.amd?define(["underscore"],t):"object"==typeof exports?module.exports=t(require("underscore")):e.trowel=e.trl=t(e._)}(this,function(e){if(!e||!e.VERSION)throw new Error("Trowel's JavaScript requires underscore");var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.prototype.getType=function(){return e.JSValues.undefined},t}();e.JSUndefined=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.prototype.getType=function(){return e.JSValues["null"]},t}();e.JSNull=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){function t(){throw new Error("Not implemented yet")}var r=function(){function r(){}return r.createUndefined=function(){return r.undefinedValue},r.createString=function(t){return new e.JSString(t)},r.createObject=function(){return new e.JSObject},r.createNumber=function(t){return new e.JSNumber(t)},r.createNull=function(){return r.nullValue},r.createBoolean=function(t){return new e.JSBoolean(t)},r.isString=function(t){return t.getType()===e.JSValues.string},r.isStringWithValue=function(t,r){return t.getType()===e.JSValues.string&&t.getValue()===r},r.isNumber=function(t){return t.getType()===e.JSValues.number},r.isNumberWithValue=function(t,r){return t.getType()===e.JSValues.string&&t.getValue()===r},r.isBoolean=function(t){return t.getType()===e.JSValues["boolean"]},r.isBooleanWithValue=function(t,r){return t.getType()===e.JSValues.string&&t.getValue()===r},r.isNull=function(t){return t.getType()===e.JSValues["null"]},r.isUndefined=function(t){return t.getType()===e.JSValues.undefined},r.isObject=function(t){return t.getType()===e.JSValues.object},r.toObject=function(e){return t()},r.toBoolean=function(e){return t()},r.isCallable=function(e){return t()},r.throwReferenceErrorException=function(){t()},r.throwTypeErrorException=function(){t()},r.callObjectFunction=function(e,t){return r.createUndefined()},r.undefinedValue=new e.JSUndefined,r.nullValue=new e.JSNull,r}();e.JSApi=r,e.throwNotImplementedYet=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){!function(e){e[e.keyword=1]="keyword",e[e.identifier=2]="identifier",e[e.literal=3]="literal",e[e.punctuation=4]="punctuation",e[e.comment=5]="comment",e[e.eof=6]="eof",e[e.error=7]="error"}(e.TokenType||(e.TokenType={}));e.TokenType;!function(e){e[e.string=1]="string",e[e.number=2]="number",e[e["null"]=3]="null",e[e["boolean"]=4]="boolean",e[e.regex=5]="regex"}(e.LiteralSubType||(e.LiteralSubType={}));e.LiteralSubType}(t=e.lexical||(e.lexical={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(t){var r=function(){function t(){this.exceptions=[]}return t.prototype.addException=function(e,t,r){var n={pos:{column:r,line:t},msg:e};this.exceptions.push(n)},t.prototype.hasExceptions=function(){return!e.isEmpty(this.exceptions)},t.prototype.clear=function(){this.exceptions.length=0},t.prototype.getExceptions=function(){return this.exceptions},t}();t.ExceptionHandler=r}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.createStringFromCharPointGenerator=function(){var t=[];return{addCharPoint:function(r){t.push(e.fromCodePoint(r))},getString:function(){return t.join("")}}},e.getDigitFromCharPoint=function(t){return t-e.ZERO_CHAR_CODE},e.codePointAt=function(e,t){return e.codePointAt(t)},e.fromCodePoint=function(e){return String.fromCodePoint(e)},e.ZERO_CHAR_CODE="0".charCodeAt(0),e}();e.CharPoints=t}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){var t=!0,r=function(){function e(){}return e.WS={9:t,11:t,12:t,32:t,160:t,65279:t},e.LT={10:t,13:t,8232:t,514:t},e.KW={"break":t,"do":t,"instanceof":t,"typeof":t,"case":t,"else":t,"new":t,"var":t,"catch":t,"finally":t,"return":t,"void":t,"continue":t,"for":t,"switch":t,"while":t,"debugger":t,"function":t,"this":t,"with":t,"default":t,"if":t,"throw":t,"delete":t,"in":t,"try":t,"class":t,"enum":t,"extends":t,"super":t,"const":t,"export":t,"import":t,"implements":t,let:t,"private":t,"public":t,"interface":t,"package":t,"protected":t,"static":t,"yield":t},e.LIT={"null":t,"true":t,"false":t},e.PNC_SINGLE={lbrace:123,rbrace:125,lparenth:40,rparenth:41,lbracket:91,rbracket:93,dot:46,semicolon:59,comma:44,less:60,more:62,plus:43,minus:45,percent:37,ampersand:38,vertical:124,caret:94,excl:33,tilde:126,quest:63,colon:58,assign:61,asterisk:42,slash:47,backslash:92,dollar:36,exp:101,expb:69,apostrophe:39,qmark:34,zero:48,b:98,f:102,n:110,r:114,t:116,v:118,x:120,u:117,lf:10,cr:13},e.UNICODE_UNCOMMON_THRESHOLD=170,e.UNICODE_CONTINUE_COMMON={8204:t,8205:t,36:t,92:t,48:t,49:t,50:t,51:t,52:t,53:t,54:t,55:t,56:t,57:t,65:t,66:t,67:t,68:t,69:t,70:t,71:t,72:t,73:t,74:t,75:t,76:t,77:t,78:t,79:t,80:t,81:t,82:t,83:t,84:t,85:t,86:t,87:t,88:t,89:t,90:t,95:t,97:t,98:t,99:t,100:t,101:t,102:t,103:t,104:t,105:t,106:t,107:t,108:t,109:t,110:t,111:t,112:t,113:t,114:t,115:t,116:t,117:t,118:t,119:t,120:t,121:t,122:t},e.UNICODE_CONTINUE_UNCOMMON=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u0300-\u036F\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u0483-\u0486\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u0615\u0621-\u063A\u0640-\u065E\u0660-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u076D\u0780-\u07B1\u0901-\u0939\u093C-\u094D\u0950-\u0954\u0958-\u0963\u0966-\u096F\u097D\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A74\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B43\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C60\u0C61\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D60\u0D61\u0D66-\u0D6F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC\u0EDD\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6A\u0F71-\u0F84\u0F86-\u0F8B\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1021\u1023-\u1027\u1029\u102A\u102C-\u1032\u1036-\u1039\u1040-\u1049\u1050-\u1059\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18A9\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19A9\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1D00-\u1DC3\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u2094\u20D0-\u20DC\u20E1\u20E5-\u20EB\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2160-\u2183\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA827\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE23\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDF00-\uDF1E\uDF30-\uDF4A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCE-\uDFFF]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,e.UNICODE_START_COMMON={36:t,92:t,95:t,65:t,66:t,67:t,68:t,69:t,70:t,71:t,72:t,73:t,74:t,75:t,76:t,77:t,78:t,79:t,80:t,81:t,82:t,83:t,84:t,85:t,86:t,87:t,88:t,89:t,90:t,97:t,98:t,99:t,100:t,101:t,102:t,103:t,104:t,105:t,106:t,107:t,108:t,109:t,110:t,111:t,112:t,113:t,114:t,115:t,116:t,117:t,118:t,119:t,120:t,121:t,122:t},e.UNICODE_START_UNCOMMON=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2160-\u2183\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDF00-\uDF1E\uDF30-\uDF4A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFC9]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD87E[\uDC00-\uDE1D]/,e}();e.TokenDefinitions=r}(t=e.lexical||(e.lexical={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(t){var r;!function(r){var n={};e.each("0123456789ABCDEFabcdef",function(e){n[t.CharPoints.codePointAt(e,0)]=!0});var i={};e.each("0123456789",function(e){i[t.CharPoints.codePointAt(e,0)]=!0});var o=function(){function o(){}return o.isHexDigit=function(e){return n[e]},o.isDigit=function(e){return i[e]},o.isKeyword=function(t){return e.has(r.TokenDefinitions.KW,t)},o.isLineTerminator=function(e){return r.TokenDefinitions.LT[e]},o.isIdentifierStart=function(e){return o.isSimpleUnicodeStart(e)||o.isComplexUnicodeStart(e)},o.isIdentifierPart=function(e){return o.isSimpleUnicodeContinue(e)||o.isComplexUnicodeContinue(e)},o.isSimpleUnicodeContinue=function(e){return r.TokenDefinitions.UNICODE_CONTINUE_COMMON[e]},o.isComplexUnicodeContinue=function(e){return e>r.TokenDefinitions.UNICODE_UNCOMMON_THRESHOLD&&r.TokenDefinitions.UNICODE_CONTINUE_UNCOMMON.test(t.CharPoints.fromCodePoint(e))},o.isSimpleUnicodeStart=function(e){return r.TokenDefinitions.UNICODE_START_COMMON[e]},o.isComplexUnicodeStart=function(e){return e>r.TokenDefinitions.UNICODE_UNCOMMON_THRESHOLD&&r.TokenDefinitions.UNICODE_START_UNCOMMON.test(t.CharPoints.fromCodePoint(e))},o.isPunctuationStart=function(e){return r.TokenDefinitions.PNC_SINGLE[e]},o}();r.Identifyers=o}(r=t.lexical||(t.lexical={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(r){var n;!function(n){var i={identifier:"stateIdentifier",punctuation:"statePunctuation",multiComment:"stateMultiComment",singleComment:"stateSingleComment",divOrComment:"stateDivOrComment",dotOrNumber:"stateDotOrNumber",error:"stateError",finish:"stateFinish",init:"stateInit"},o={keyword:"keyword",identifier:"identifier",literal:"literal",punctuation:"punctuation",comment:"comment",eof:"eof",error:"error"},u={string:"string",number:"number","null":"null","boolean":"boolean",regex:"regex"},a=function(){var e={};return e[n.TokenType.keyword]=o.keyword,e[n.TokenType.identifier]=o.identifier,e[n.TokenType.literal]=o.literal,e[n.TokenType.punctuation]=o.punctuation,e[n.TokenType.comment]=o.comment,e[n.TokenType.eof]=o.eof,e[n.TokenType.error]=o.error,function(t){return e[t]}}(),s=function(){var e={};return e[n.LiteralSubType.string]=u.string,e[n.LiteralSubType.number]=u.number,e[n.LiteralSubType["null"]]=u["null"],e[n.LiteralSubType["boolean"]]=u["boolean"],e[n.LiteralSubType.regex]=u.regex,function(t){return e[t]}}(),c=n.TokenDefinitions.PNC_SINGLE,p=function(){function u(t,r,n){this.charStream=t,this.exceptionHandler=r,this.options=n,this.options=e.defaults(e.clone(n||{}),u.defaultLexerOptions),this.lineno=1,this.currLineCursor=0,this.comments=[],u.initiateCharecterLookupOnce()}return u.initiateCharecterLookupOnce=function(){if(!u.CharecterLookup){var t=u.CharecterLookup={};e.each(n.TokenDefinitions.WS,function(e,r){return t[r]=u.prototype.stateWhiteSpace}),e.each(n.TokenDefinitions.LT,function(e,r){return t[r]=u.prototype.stateLineTerminator}),t[c.qmark]=u.genStateString(c.qmark),t[c.apostrophe]=u.genStateString(c.apostrophe),e.each("0123456789",function(e){return t[r.CharPoints.codePointAt(e,0)]=u.prototype.stateNumber}),t[c.lbrace]=u.prototype.statePunctuationSingle,t[c.rbrace]=u.prototype.statePunctuationSingle,t[c.lparenth]=u.prototype.statePunctuationSingle,t[c.rparenth]=u.prototype.statePunctuationSingle,t[c.lbracket]=u.prototype.statePunctuationSingle,t[c.rbracket]=u.prototype.statePunctuationSingle,t[c.dot]=function(){return i.dotOrNumber},t[c.semicolon]=u.prototype.statePunctuationSingle,t[c.comma]=u.prototype.statePunctuationSingle,t[c.less]=u.genPunctuationScanner([[c.less],[c.assign],[c.less,c.less],[c.less,c.assign]]),t[c.more]=u.genPunctuationScanner([[c.more],[c.assign],[c.more,c.more],[c.more,c.assign],[c.more,c.more,c.assign]]),t[c.excl]=u.genPunctuationScanner([[c.assign],[c.assign,c.assign]]),t[c.minus]=u.genPunctuationScanner([[c.minus],[c.assign]]),t[c.plus]=u.genPunctuationScanner([[c.plus],[c.assign]]),t[c.percent]=u.genPunctuationScanner([[c.assign]]),t[c.ampersand]=u.genPunctuationScanner([[c.ampersand],[c.assign]]),t[c.vertical]=u.genPunctuationScanner([[c.vertical],[c.assign]]),t[c.caret]=u.genPunctuationScanner([[c.assign]]),t[c.tilde]=u.prototype.statePunctuationSingle,t[c.quest]=u.prototype.statePunctuationSingle,t[c.colon]=u.prototype.statePunctuationSingle,t[c.assign]=u.genPunctuationScanner([[c.assign],[c.assign,c.assign]]),t[c.asterisk]=u.genPunctuationScanner([[c.assign]]),t[c.slash]=function(){return i.divOrComment},t[c.backslash]=function(){return i.identifier}}},u.prototype.isError=function(e){return this.options.readableTokensMode?e.type===o.error:e.type===n.TokenType.error},u.prototype.isEof=function(e){return this.options.readableTokensMode?e.type===o.eof:e.type===n.TokenType.eof},u.prototype.isComment=function(e){return this.options.readableTokensMode?e.type===o.comment:e.type===n.TokenType.comment},u.prototype.isLiteral=function(e){return this.options.readableTokensMode?e.type===o.literal:e.type===n.TokenType.literal},u.prototype.isPunctuation=function(e){return this.options.readableTokensMode?e.type===o.punctuation:e.type===n.TokenType.punctuation},u.prototype.isKeyword=function(e){return this.options.readableTokensMode?e.type===o.keyword:e.type===n.TokenType.keyword},u.prototype.isIdentifier=function(e){return this.options.readableTokensMode?e.type===o.identifier:e.type===n.TokenType.identifier},u.prototype.isPunctuationValue=function(e,t){return this.isPunctuation(e)&&e.value===t},u.prototype.isKeywordValue=function(e,t){return this.isKeyword(e)&&e.value===t},u.prototype.isIdentifierValue=function(e,t){return this.isIdentifier(e)&&e.value===t},u.prototype.matchType=function(e,t){var r=this.lookAheadNextToken();return t.call(this,r,e)?(this.nextToken(),!0):!1},u.prototype.matchPunctuation=function(e){return this.matchType(e,this.isPunctuationValue)},u.prototype.matchKeyword=function(e){return this.matchType(e,this.isKeywordValue)},u.prototype.reinterpretLastTokenAsRegex=function(e){return t.utilities.assert(this.isPunctuationValue(e,"/")||this.isPunctuationValue(e,"/=")),this.lookAheadToken=void 0,this.charStream.bwdCursorRange(e.value.length),this.beginFromStateRegex()},u.prototype.nextToken=function(){var e=this.lookAheadToken;if(e)return this.lookAheadToken=void 0,this.currentToken=e;var t=this.beginFromStateInit();if(this.isComment(t))if(this.options.includeCommentsAsNormalTokens)this.comments.push(t);else do this.comments.push(t),t=this.beginFromStateInit();while(this.isComment(t));return t},u.prototype.startStateEngine=function(e){for(;e;)e=this[e].call(this);return this.options.readableTokensMode&&this.translateReadableTokens(),this.currentToken=this.token},u.prototype.translateReadableTokens=function(){this.token.type=a(this.token.type),this.token.subType&&(this.token.subType=s(this.token.subType))},u.prototype.beginFromStateInit=function(){var e=this.stateInit();return this.startStateEngine(e)},u.prototype.beginFromStateRegex=function(){this.cleanupContext();var e=this.stateRegex();return this.startStateEngine(e)},u.prototype.cleanupContext=function(){this.token=void 0,this.startLineno=this.lineno,this.relativeStartCursor=this.charStream.getCursor()-this.currLineCursor,this.absoluteStartCursor=this.charStream.getCursor()},u.prototype.latestToken=function(){return this.currentToken},u.prototype.lookAheadNextToken=function(){var e=this.currentToken;return this.lookAheadToken=this.nextToken(),this.currentToken=e,this.lookAheadToken},u.prototype.hasNext=function(){var e=this.lookAheadNextToken();return!this.isEof(e)&&!this.isError(e)},u.prototype.getComments=function(){return this.comments},u.prototype.getCurrentCursorPos=function(){return{line:this.lineno,column:this.charStream.getCursor()-this.currLineCursor}},u.prototype.stateFinish=function(){},u.prototype.stateError=function(){this.token=this.createTokenFromPos(n.TokenType.error)},u.prototype.stateInit=function(){if(this.cleanupContext(),this.charStream.isEof())return this.token=this.createToken(n.TokenType.eof,void 0),i.finish;var e,t=this.charStream.getNextChar();if(n.Identifyers.isIdentifierStart(t))this.charStream.bwdCursor(),e=i.identifier;else{var r=u.CharecterLookup[t];r?(this.charStream.bwdCursor(),e=r.call(this)):void 0!==t&&(e=this.unexpectedChar())}return e},u.prototype.stateIdentifier=function(){var e=r.CharPoints.createStringFromCharPointGenerator(),t=this.charStream.getNextChar();if(!this.scanUnicodeEscapeSequence(e,t))return this.unexpectedChar();for(;;){var o=this.charStream.getNextChar();if(!n.Identifyers.isIdentifierPart(o)){void 0!==o&&this.charStream.bwdCursor();break}if(!this.scanUnicodeEscapeSequence(e,o))return this.unexpectedChar()}var u,a,s=e.getString();if(n.Identifyers.isKeyword(s))u=n.TokenType.keyword;else switch(s){case"null":u=n.TokenType.literal,a=n.LiteralSubType["null"],s=null;break;case"true":u=n.TokenType.literal,a=n.LiteralSubType["boolean"],s=!0;break;case"false":u=n.TokenType.literal,a=n.LiteralSubType["boolean"],s=!1;break;default:u=n.TokenType.identifier}return this.token=this.createToken(u,s,a),i.finish},u.genStateString=function(e){return function(){this.charStream.getNextChar();for(var t=r.CharPoints.createStringFromCharPointGenerator();;){var o=this.charStream.getNextChar();if(o===e)break;if(o===c.backslash)switch(o=this.charStream.getNextChar()){case c.b:t.addCharPoint(8);break;case c.f:t.addCharPoint(12);break;case c.n:t.addCharPoint(10);break;case c.r:t.addCharPoint(13);break;case c.t:t.addCharPoint(9);break;case c.v:t.addCharPoint(11);break;case c.x:if(!this.handleScangits(2,t))return i.error;break;case c.u:if(!this.handleScanHexDigits(4,t))return i.error;break;default:n.Identifyers.isLineTerminator(o)&&(t.addCharPoint(o),this.handleNewLine())}else{if(void 0===o)return this.unexpectedChar("unclosed string");t.addCharPoint(o)}}return this.token=this.createToken(n.TokenType.literal,t.getString(),n.LiteralSubType.string),i.finish}},u.prototype.stateNumber=function(){if(this.charStream.match(c.zero)){if(this.charStream.match(c.x)){var e=this.scanHexDigits();return void 0===e?this.unexpectedChar():(this.token=this.createToken(n.TokenType.literal,e,n.LiteralSubType.number),i.finish)}this.charStream.bwdCursor()}var t=this.scanDigits(),r=t.length;if(this.charStream.match(c.dot)){var o=this.scanDecimal();void 0!==o&&(t=t.concat(o))}return this.scanExponensialAndCreateNumber(t,r)},u.prototype.stateDotOrNumber=function(){this.charStream.fwdCursor();var e=this.scanDecimal();return void 0!==e?this.scanExponensialAndCreateNumber(e,0):(this.charStream.bwdCursor(),this.statePunctuationSingle())},u.prototype.stateDivOrComment=function(){this.charStream.fwdCursor();var e=this.charStream.getNextChar();switch(e){case c.slash:return i.singleComment;case c.asterisk:return i.multiComment;case c.assign:break;default:this.charStream.bwdCursor()}return this.charStream.bwdCursor(),this.statePunctuationSingle()},u.prototype.statePunctuationSingle=function(){return this.charStream.fwdCursor(),this.token=this.createTokenFromPos(n.TokenType.punctuation),i.finish},u.prototype.stateWhiteSpace=function(){return this.charStream.fwdCursor(),i.init},u.prototype.stateLineTerminator=function(){var e=this.charStream.getNextChar();return this.charStream.matchComplex(function(t){return e===c.cr&&t===c.lf||void 0===t}),this.handleNewLine(),i.init},u.prototype.stateSingleComment=function(){do{var e=this.charStream.getNextChar();if(n.Identifyers.isLineTerminator(e)){this.handleNewLine();break}}while(void 0!==e);return this.token=this.createTokenFromPos(n.TokenType.comment),i.finish},u.prototype.stateMultiComment=function(){for(;;){var e=this.charStream.getNextChar();if(e===c.asterisk&&this.charStream.match(c.slash))break;if(void 0===e)return this.unexpectedChar("unclosed string");n.Identifyers.isLineTerminator(e)&&this.handleNewLine()}return this.token=this.createTokenFromPos(n.TokenType.comment),i.finish},u.prototype.scanUnicodeEscapeSequence=function(e,t){if(t===c.backslash){if(t=this.charStream.getNextChar(),t!==c.u)return!1;var r=this.scanHexDigitsTimes(4);if(void 0===r)return!1;e.addCharPoint(r)}else e.addCharPoint(t);return!0},u.prototype.stateRegex=function(){var e=r.CharPoints.createStringFromCharPointGenerator(),t=this.charStream.getNextChar();e.addCharPoint(t);for(var o=!0,u=!1;o;){if(t=this.charStream.getNextChar(),void 0===t)return this.unexpectedChar("Invalid regular expression");switch(e.addCharPoint(t),t){case c.backslash:if(t=this.charStream.getNextChar(),void 0===t||n.Identifyers.isLineTerminator(t))return this.unexpectedChar("Invalid regular expression");e.addCharPoint(t);break;case c.lbracket:u=!0;break;case c.rbracket:u&&(u=!1);break;case c.slash:o=!1;break;default:if(void 0===t||n.Identifyers.isLineTerminator(t))return this.unexpectedChar()}}for(;;){if(t=this.charStream.getNextChar(),!n.Identifyers.isIdentifierPart(t)){void 0!==t&&this.charStream.bwdCursor();break}e.addCharPoint(t)}return this.token=this.createToken(n.TokenType.literal,e.getString(),n.LiteralSubType.regex),i.finish},u.prototype.scanExponensialAndCreateNumber=function(e,t){var r=this.scanExponential();if(void 0===r)return i.error;if(this.charStream.matchComplex(function(e){return n.Identifyers.isIdentifierPart(e)}))return this.unexpectedChar();var o=this.createNumber(e,t,r);return this.token=this.createToken(n.TokenType.literal,o,n.LiteralSubType.number),i.finish},u.prototype.scanDigits=function(){for(var e,t=[],i=this.charStream.getCursor();;){if(e=this.charStream.getNextChar(),!n.Identifyers.isDigit(e))break;var o=r.CharPoints.getDigitFromCharPoint(e);t.push(o)}void 0!==e&&this.charStream.bwdCursor();var u=this.charStream.getCursor();return u-i!==0?t:void 0},u.prototype.scanDecimal=function(){var e=this.charStream.getCursor(),t=this.scanDigits(),r=this.charStream.getCursor(),n=r-e;return 0!==n?t:void 0},u.prototype.scanExponential=function(){var e=this.charStream.getNextChar();if(e===c.exp||e===c.expb){e=this.charStream.getNextChar();var t;e===c.minus?t=!0:e!==c.plus&&this.charStream.bwdCursor();var r=this.scanDigits();if(void 0===r)return void this.unexpectedChar("exponential should postfixed by numbers");var n=this.createNumber(r,r.length,0);return t?-n:n}return void 0!==e&&this.charStream.bwdCursor(),0},u.prototype.scanHexDigitsTimes=function(e){var t=e;do{var r=this.charStream.getNextChar();if(!n.Identifyers.isHexDigit(r))return void this.charStream.bwdCursorRange(t-(e-1))}while(--e);var i=this.charStream.getCursor(),o=this.charStream.tokenize(i-t);return parseInt(o,16)},u.prototype.scanHexDigits=function(){for(var e=this.charStream.getNextChar(),t=0;n.Identifyers.isHexDigit(e);)++t,e=this.charStream.getNextChar();if(0!==t){void 0!==e&&this.charStream.bwdCursor();var r=this.charStream.getCursor(),i=this.charStream.tokenize(r-t);return parseInt(i,16)}},u.genPunctuationScanner=function(t){for(var r=e.last(t).length,o=e.map(new Array(r),function(){return new Object}),u=r-1;-1!==u;--u)for(var a=t.length-1;-1!==a;--a){var s=t[a][u];if(!s)break;o[u][s]=!0}return function(){this.charStream.fwdCursor();for(var e=0;r>e;++e){var t=this.charStream.getNextChar();if(!o[e][t]){void 0!==t&&this.charStream.bwdCursor();break}}return this.token=this.createTokenFromPos(n.TokenType.punctuation,this.startPos),i.finish}},u.prototype.createTokenSourceLocationFromCursor=function(){return h.create({line:this.startLineno,column:this.relativeStartCursor},this.getCurrentCursorPos())},u.prototype.createTokenFromPos=function(e,t){var r=this.charStream.tokenize(this.absoluteStartCursor);return this.createToken(e,r,t)},u.prototype.createToken=function(e,t,r){var n={type:e,value:t,subType:r};return this.options.loc&&(n.loc=this.createTokenSourceLocationFromCursor()),n},u.prototype.genIntegerFromArray=function(e,t,r){for(var n=0,i=t;r>i;++i)n=10*n+e[i];return n},u.prototype.createNumber=function(e,t,r){var n=t+r;if(0>n){var i=this.genIntegerFromArray(e,0,e.length);return i/Math.pow(10,t-r)}if(n>e.length){var i=this.genIntegerFromArray(e,0,e.length);return i*Math.pow(10,n-e.length)}var i=this.genIntegerFromArray(e,0,n),o=this.genIntegerFromArray(e,n,e.length);return i+o/Math.pow(10,e.length-n)},u.prototype.handleScanHexDigits=function(e,t){var r=this.scanHexDigitsTimes(e);return void 0===r?(this.unexpectedChar(),!1):(t.addCharPoint(r),!0)},u.prototype.handleNewLine=function(){++this.lineno,this.currLineCursor=this.charStream.getCursor()},u.prototype.unexpectedChar=function(e){return e=e||this.charStream.tokenize(this.charStream.getCursor()-1),this.exceptionHandler.addException(e,this.lineno,this.charStream.getCursor()),i.error},u.defaultLexerOptions={loc:!1,readableTokensMode:!0,includeCommentsAsNormalTokens:!0},u}();n.Lexer=p;var h=function(){function e(){}return e.create=function(e,t){return{start:e,end:t}},e}();n.TokenSourceLocation=h}(n=r.lexical||(r.lexical={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;
!function(t){var r=function(){function t(e){this.src=e,this.cursor=0}return t.prototype.getNextChar=function(){return this.hasNext()?e.CharPoints.codePointAt(this.src,this.cursor++):void 0},t.prototype.getChar=function(){return e.CharPoints.codePointAt(this.src,this.cursor)},t.prototype.getCursor=function(){return this.cursor},t.prototype.bwdCursor=function(){--this.cursor},t.prototype.fwdCursor=function(){this.hasNext()&&++this.cursor},t.prototype.bwdCursorRange=function(e){this.cursor=Math.max(this.cursor-e,0)},t.prototype.tokenize=function(e){return this.src.substring(e,this.cursor)},t.prototype.match=function(e){var t=this.getNextChar();return t===e?!0:(void 0!==t&&this.bwdCursor(),!1)},t.prototype.matchComplex=function(e){var t=this.getNextChar();return e(t)?!0:(void 0!==t&&this.bwdCursor(),!1)},t.prototype.isEof=function(){return this.cursor>=this.src.length},t.prototype.hasNext=function(){return this.cursor<this.src.length},t}();t.CharacterStream=r}(t=e.lexical||(e.lexical={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){function t(e,t){if(!e)throw new Error("Assertion fail: "+t)}e.assert=t}(t=e.utilities||(e.utilities={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.enablePos=e}return e.prototype.createNode=function(e,t){return this.enablePos&&(e.loc=t),e},e.prototype.createProgram=function(e,t){return this.createNode({type:"Program",body:e},t)},e.prototype.createStatementEmpty=function(e){return this.createNode({type:"EmptyStatement"},e)},e.prototype.createStatementBlock=function(e,t){return this.createNode({type:"BlockStatement",body:e},t)},e.prototype.createStatementExpression=function(e,t){return this.createNode({type:"ExpressionStatement",expression:e},t)},e.prototype.createStatementIf=function(e,t,r,n){return this.createNode({type:"IfStatement",test:e,consequent:t,alternate:r},n)},e.prototype.createStatementBreak=function(e,t){return this.createNode({type:"BreakStatement",label:e},t)},e.prototype.createStatementContinue=function(e,t){return this.createNode({type:"ContinueStatement",label:e},t)},e.prototype.createStatementWith=function(e,t,r){return this.createNode({type:"WithStatement",obj:e,body:t},r)},e.prototype.createStatementSwitch=function(e,t,r){return this.createNode({type:"SwitchStatement",discriminant:e,cases:t},r)},e.prototype.createStatementReturn=function(e,t){return this.createNode({type:"ReturnStatement",argument:e},t)},e.prototype.createStatementLabeled=function(e,t,r){return this.createNode({type:"LabeledStatement",label:e,body:t},r)},e.prototype.createStatementThrow=function(e,t){return this.createNode({type:"ThrowStatement",argument:e},t)},e.prototype.createStatementTry=function(e,t,r,n){return this.createNode({type:"TryStatement",block:e,handler:t,finalizer:r},n)},e.prototype.createStatementWhile=function(e,t,r){return this.createNode({type:"WhileStatement",test:e,body:t},r)},e.prototype.createStatementDoWhile=function(e,t,r){return this.createNode({type:"DoWhileStatement",body:e,test:t},r)},e.prototype.createStatementFor=function(e,t,r,n,i){return this.createNode({type:"ForStatement",init:e,test:t,update:r,body:n},i)},e.prototype.createStatementForIn=function(e,t,r,n,i){return this.createNode({type:"ForInStatement",left:e,right:t,body:r,each:n},i)},e.prototype.createStatementDebugger=function(e){return this.createNode({type:"ForInStatement",loc:e},e)},e.prototype.createDeclarationFunction=function(e,t,r,n){return this.createNode({type:"FunctionDeclaration",id:e,params:t,body:r},n)},e.prototype.createDeclarationVariable=function(e,t){return this.createNode({type:"VariableDeclaration",declarations:e,kind:"var"},t)},e.prototype.createVariableDeclarator=function(e,t,r){return this.createNode({type:"VariableDeclarator",id:e,init:t},r)},e.prototype.createExpressionThis=function(e){return this.createNode({type:"ThisExpression",loc:e},e)},e.prototype.createExpressionArray=function(e,t){return this.createNode({type:"ArrayExpression",elements:e},t)},e.prototype.createExpressionObject=function(e,t){return this.createNode({type:"ObjectExpression",properties:e},t)},e.prototype.createObjectProperty=function(e,t,r,n){return this.createNode({type:"Property",key:e,value:t,kind:r},n)},e.prototype.createExpressionFunction=function(e,t,r,n){return this.createNode({type:"FunctionExpression",id:e,params:t,body:r},n)},e.prototype.createExpressionSequence=function(e,t){return this.createNode({type:"SequenceExpression",expressions:e},t)},e.prototype.createExpressionUnary=function(e,t,r,n){return this.createNode({type:"UnaryExpression",operator:e,prefix:t,argument:r},n)},e.prototype.createExpressionBinary=function(e,t,r,n){return this.createNode({type:"BinaryExpression",operator:e,left:t,right:r},n)},e.prototype.createExpressionAssignment=function(e,t,r,n){return this.createNode({type:"AssignmentExpression",operator:e,left:t,right:r},n)},e.prototype.createExpressionUpdate=function(e,t,r,n){return this.createNode({type:"UpdateExpression",operator:e,argument:t,prefix:r},n)},e.prototype.createExpressionLogical=function(e,t,r,n){return this.createNode({type:"LogicalExpression",operator:e,left:t,right:r},n)},e.prototype.createExpressionConditional=function(e,t,r,n){return this.createNode({type:"ConditionalExpression",test:e,alternate:t,consequent:r},n)},e.prototype.createExpressionNew=function(e,t,r){return this.createNode({type:"NewExpression",callee:e,arguments:t},r)},e.prototype.createExpressionCall=function(e,t,r){return this.createNode({type:"CallExpression",callee:e,arguments:t},r)},e.prototype.createExpressionMember=function(e,t,r,n){return this.createNode({type:"MemberExpression",object:e,property:t,computed:r},n)},e.prototype.createSwitchCase=function(e,t,r){return this.createNode({type:"SwitchCase",test:e,consequent:t},r)},e.prototype.createCatchClause=function(e,t,r){return this.createNode({type:"CatchClause",param:e,body:t},r)},e.prototype.createIdentifier=function(e,t){return this.createNode({type:"Identifier",name:e},t)},e.prototype.createLiteral=function(e,t){return this.createNode({type:"Literal",value:e},t)},e}();e.NodeFactory=t}(t=e.syntax||(e.syntax={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(r){var n;!function(n){var i=function(){function i(t,o){this.options=o,this.options=e.defaults(e.clone(o||{}),i.defaultParserOptions),this.nodeFactory=new n.NodeFactory(this.options.loc),this.parseException=new r.ExceptionHandler,this.charStream=new r.lexical.CharacterStream(t),this.lexException=new r.ExceptionHandler,this.lex=new r.lexical.Lexer(this.charStream,this.lexException,i.lexerOptions),this.inForIn=!1,this.inLoopMutex=[0],this.inSwitchMutex=[0],this.inFunctionMutex=0}return i.prototype.beginIteration=function(){++this.inLoopMutex[this.inLoopMutex.length-1]},i.prototype.finishIteration=function(){--this.inLoopMutex[this.inLoopMutex.length-1]},i.prototype.newIterationScope=function(){this.inLoopMutex.push(0)},i.prototype.restoreIterationScope=function(){var e=this.inLoopMutex.pop();t.utilities.assert(0===e)},i.prototype.isOnIteration=function(){return this.inLoopMutex[this.inLoopMutex.length-1]>0},i.prototype.beginSwitch=function(){++this.inSwitchMutex[this.inSwitchMutex.length-1]},i.prototype.finishSwitch=function(){--this.inSwitchMutex[this.inSwitchMutex.length-1]},i.prototype.newSwitchScope=function(){this.inSwitchMutex.push(0)},i.prototype.restoreSwitchScope=function(){var e=this.inSwitchMutex.pop();t.utilities.assert(0===e)},i.prototype.isOnSwitch=function(){return this.inSwitchMutex[this.inSwitchMutex.length-1]>0},i.prototype.beginFunction=function(){++this.inFunctionMutex},i.prototype.finishFunction=function(){--this.inFunctionMutex},i.prototype.isOnFunction=function(){return this.inFunctionMutex>0},i.prototype.getExceptions=function(){return this.parseException},i.prototype.addException=function(e){var t=this.lex.isEof(e)?"end of file":e.value;this.parseException.addException("Undexpected token: '"+t+"'",e.loc.start.line,e.loc.start.column)},i.prototype.delegateLexicalErrors=function(){var t=this,r=this.lexException.getExceptions();e.each(r,function(e){return t.parseException.addException(e.msg,e.pos.line,e.pos.column)})},i.prototype.canTolerateError=function(){var e=this.lex.latestToken();return this.options.tolerateErrors&&e&&!(this.lex.isEof(e)||this.lex.isError(e))},i.prototype.parseStatementIfCanTolerate=function(e){var t=this.parseStatement();return t?(e.push(t),!0):this.canTolerateError()},i.prototype.trimOptionalSemicolon=function(){var e=this.lex.lookAheadNextToken();if(this.lex.isPunctuationValue(e,";"))this.lex.nextToken();else if(this.tokenIsInSameLine(e)&&!this.lex.isEof(e)&&!this.lex.isPunctuationValue(e,"}"))return this.addException(e),!1;return!0},i.prototype.trackPositionUnary=function(e){return e.loc},i.prototype.trackPositionByPos=function(e){var t=this.lex.latestToken();return r.lexical.TokenSourceLocation.create(e,t.loc.end)},i.prototype.trackPositionByToken=function(e){var t=this.lex.latestToken();return r.lexical.TokenSourceLocation.create(e.loc.start,t.loc.end)},i.prototype.expectType=function(e,t){var r=this.lex.nextToken();return t.call(this.lex,r,e)?!0:(this.addException(r),!1)},i.prototype.expectPunctuation=function(e){return this.expectType(e,this.lex.isPunctuationValue)},i.prototype.expectKeyword=function(e){return this.expectType(e,this.lex.isKeywordValue)},i.prototype.tokenIsInSameLine=function(e){return e.loc.end.line===this.lex.latestToken().loc.end.line},i.prototype.parse=function(){var e=this.lex.lookAheadNextToken();if(this.lex.isError(e))return void this.delegateLexicalErrors();var t=this.parseSourceElements();if(t)return this.lex.isEof(e)?this.nodeFactory.createProgram(t,this.trackPositionUnary(e)):this.nodeFactory.createProgram(t,this.trackPositionByToken(e))},i.prototype.parseSourceElements=function(){for(var e=[];this.lex.hasNext()&&this.parseStatementIfCanTolerate(e););return e},i.prototype.parseStatement=function(){var e=this.lex.lookAheadNextToken();if(this.lex.isKeyword(e))switch(e.value){case"var":return this.parseVariableStatement();case"if":return this.parseIfStatement();case"while":return this.parseWhileStatement();case"do":return this.parseDoWhileStatement();case"for":return this.parseForStatement();case"continue":return this.parseContinueStatement();case"break":return this.parseBreakStatement();case"with":return this.parseWithStatement();case"switch":return this.parseSwitchStatement();case"throw":return this.parseThrowStatement();case"try":return this.parseTryStatement();case"debugger":return this.parseDebuggerStatement();case"function":return this.parseFunction(!0);case"return":return this.parseReturnStatement()}else if(this.lex.isPunctuation(e))switch(e.value){case"{":return this.parseBlockStatement();case";":return this.parseEmptyStatement()}else if(this.lex.isIdentifier(e))return this.parseLabeledStatement();return this.parseExpressionStatement()},i.prototype.parseBlockStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectPunctuation("{")){for(var t=[],r=this.lex.lookAheadNextToken();!this.lex.isPunctuationValue(r,"}");){if(!this.parseStatementIfCanTolerate(t))return;r=this.lex.lookAheadNextToken()}if(this.expectPunctuation("}"))return this.nodeFactory.createStatementBlock(t,this.trackPositionByToken(e))}},i.prototype.parseEmptyStatement=function(){var e=this.lex.lookAheadNextToken();return this.expectPunctuation(";")?this.nodeFactory.createStatementEmpty(this.trackPositionByToken(e)):void 0},i.prototype.parseIfStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("if");if(t){var r=this.parseStatement();if(r){var n=null;if(!this.lex.matchKeyword("else")||(n=this.parseStatement()))return this.nodeFactory.createStatementIf(t,r,n,this.trackPositionByToken(e))}}},i.prototype.parseIteration=function(e){this.beginIteration();var t=e.apply(this);return this.finishIteration(),t},i.prototype.innerParseWhileStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("while");if(t){var r=this.parseStatement();if(r)return this.nodeFactory.createStatementWhile(t,r,this.trackPositionByToken(e))}},i.prototype.parseWhileStatement=function(){return this.parseIteration(this.innerParseWhileStatement)},i.prototype.innerParseDoWhileStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("do")){var t=this.parseStatement();if(t){var r=this.parseKeywordLparExpressionRpar("while");if(r)return this.lex.matchPunctuation(";"),this.nodeFactory.createStatementDoWhile(t,r,this.trackPositionByToken(e))}}},i.prototype.parseDoWhileStatement=function(){return this.parseIteration(this.innerParseDoWhileStatement)},i.prototype.innerParseForStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("for")&&this.expectPunctuation("(")){var t,r=null,n=null,o=this.lex.lookAheadNextToken();if(!this.lex.isPunctuationValue(o,";")){if(this.inForIn=!0,this.lex.isKeywordValue(o,"var")){if(this.lex.nextToken(),t=this.parseVariableDeclarators(),!t)return;r=this.nodeFactory.createDeclarationVariable(t,this.trackPositionByToken(o))}else if(n=this.parseExpression(),!n)return;this.inForIn=!1}var u=!1,a=null;if(o=this.lex.lookAheadNextToken(),this.lex.isKeywordValue(o,"in")){if(this.lex.nextToken(),u=!0,i.isInvalidForInLeftSide(n,t))return void this.parseException.addException("for in left side should resolve to reference",e.loc.start.line,e.loc.start.column)}else{if(!this.expectPunctuation(";"))return;if(o=this.lex.lookAheadNextToken(),!this.lex.isPunctuationValue(o,";")&&(a=this.parseExpression(),!a))return;if(!this.expectPunctuation(";"))return}var s=null;if(o=this.lex.lookAheadNextToken(),this.lex.isPunctuationValue(o,")")||(s=this.parseExpression())){if(u&&!s)return void this.addException(o);if(this.expectPunctuation(")")){var c=this.parseStatement();if(c){var p=this.trackPositionByToken(e),h=n||r;return u?this.nodeFactory.createStatementForIn(h,s,c,!1,p):this.nodeFactory.createStatementFor(h,a,s,c,p)}}}}},i.isInvalidForInLeftSide=function(e,t){return!e&&!t||e&&!i.isLeftHandExpressionResolvingToReference(e)||t&&1!==t.length},i.prototype.parseForStatement=function(){return this.parseIteration(this.innerParseForStatement)},i.prototype.parseKeywordIdentifierSemicolon=function(e,t){var r=this.lex.lookAheadNextToken();if(this.expectKeyword(e)){var n=this.lex.lookAheadNextToken(),i=null;if((!this.tokenIsInSameLine(n)||!this.lex.isIdentifier(n)||(i=this.parseIdentifier()))&&this.trimOptionalSemicolon())return t.call(this.nodeFactory,i,this.trackPositionByToken(r))}},i.prototype.parseContinueStatement=function(){var e=this.parseKeywordIdentifierSemicolon("continue",this.nodeFactory.createStatementContinue);if(e)return this.isOnIteration()?e:void this.parseException.addException("Illegal continue statement",e.loc.start.line,e.loc.start.column)},i.prototype.parseBreakStatement=function(){var e=this.parseKeywordIdentifierSemicolon("break",this.nodeFactory.createStatementBreak);if(e)return this.isOnIteration()||this.isOnSwitch()?e:void this.parseException.addException("Illegal break statement",e.loc.start.line,e.loc.start.column)},i.prototype.parseReturnStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("return")){var t=this.lex.lookAheadNextToken(),r=null;if(!this.tokenIsInSameLine(t)||this.lex.isPunctuationValue(t,";")||this.lex.isPunctuationValue(t,"}")||this.lex.isEof(t)||(r=this.parseExpression()))return this.isOnFunction()?this.nodeFactory.createStatementReturn(r,this.trackPositionByToken(e)):void this.parseException.addException("Illegal return statement",e.loc.start.line,e.loc.start.column)}},i.prototype.parseWithStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("with");if(t){var r=this.parseStatement();if(r)return this.nodeFactory.createStatementWith(t,r,this.trackPositionByToken(e))}},i.prototype.parseCaseClauseStatements=function(e){if(this.expectPunctuation(":")){for(var t=[];;){var r=this.lex.lookAheadNextToken();if(this.lex.isKeywordValue(r,"case")||this.lex.isPunctuationValue(r,"}")||this.lex.isKeywordValue(r,"default")&&e)break;if(!this.parseStatementIfCanTolerate(t))return}return t}},i.prototype.parseCasesClause=function(e,t){for(var r=this.lex.lookAheadNextToken();this.lex.isKeywordValue(r,"case");){this.lex.nextToken();var n=this.parseExpression();if(!n)return!1;var i=this.parseCaseClauseStatements(t);if(!i)return!1;var o=this.nodeFactory.createSwitchCase(n,i,this.trackPositionByToken(r));e.push(o),r=this.lex.lookAheadNextToken()}return!0},i.prototype.innerParseSwitchStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("switch");if(t&&this.expectPunctuation("{")){var r=[],n=this.lex.lookAheadNextToken();if(this.lex.isKeywordValue(n,"case")){if(!this.parseCasesClause(r,!0))return;n=this.lex.lookAheadNextToken()}if(this.lex.isKeywordValue(n,"default")){this.lex.nextToken();var i=this.parseCaseClauseStatements(!1);if(!i)return;var o=this.nodeFactory.createSwitchCase(null,i,this.trackPositionByToken(n));r.push(o),n=this.lex.lookAheadNextToken()}if((!this.lex.isKeywordValue(n,"case")||this.parseCasesClause(r,!1))&&this.expectPunctuation("}"))return this.nodeFactory.createStatementSwitch(t,r,this.trackPositionByToken(e))}},i.prototype.parseSwitchStatement=function(){this.beginSwitch();var e=this.innerParseSwitchStatement();return this.finishSwitch(),e},i.prototype.parseThrowStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("throw")){var t=this.lex.lookAheadNextToken();if(e.loc.start.line!==t.loc.start.line)return void this.parseException.addException("Illegal newline after throw",e.loc.start.line,e.loc.start.column);var r=this.parseExpression();if(r&&this.trimOptionalSemicolon())return this.nodeFactory.createStatementThrow(r,this.trackPositionByToken(e))}},i.prototype.parseTryStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("try")){var t=this.parseBlockStatement();if(t){var r=this.lex.lookAheadNextToken(),n=null;if(this.lex.isKeywordValue(r,"catch")){var i=this.parseKeywordLparExpressionRpar("catch");if(!i||"Identifier"!==i.type)return;var o=this.parseBlockStatement();if(!o)return;n=this.nodeFactory.createCatchClause(i,o,this.trackPositionByToken(r))}var u=null;if(!this.lex.matchKeyword("finally")||(u=this.parseBlockStatement()))return this.nodeFactory.createStatementTry(t,n,u,this.trackPositionByToken(e))}}},i.prototype.parseDebuggerStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("debugger")&&this.trimOptionalSemicolon())return this.nodeFactory.createStatementDebugger(this.trackPositionByToken(e))},i.prototype.parseLabeledStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseExpression();if(t){if("Identifier"===t.type&&this.lex.matchPunctuation(":")){var r=this.parseStatement();if(!r)return;return this.nodeFactory.createStatementLabeled(t,r,this.trackPositionByToken(e))}if(this.trimOptionalSemicolon())return this.nodeFactory.createStatementExpression(t,this.trackPositionByToken(e))}},i.prototype.parseKeywordLparExpressionRpar=function(e){if(this.expectKeyword(e)&&this.expectPunctuation("(")){var t=this.parseExpression();return t&&this.expectPunctuation(")")?t:void 0}},i.prototype.parseVariableStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("var")){var t=this.parseVariableDeclarators();if(this.trimOptionalSemicolon())return this.nodeFactory.createDeclarationVariable(t,this.trackPositionByToken(e))}},i.prototype.parseExpressionStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseExpression();return t&&this.trimOptionalSemicolon()?this.nodeFactory.createStatementExpression(t,this.trackPositionByToken(e)):void 0},i.prototype.parseVariableDeclarators=function(){var e=this.parseVariableDeclarator();if(e){for(var t=[e];this.lex.matchPunctuation(",");){var r=this.parseVariableDeclarator();if(!r)return;t.push(r)}return t}},i.prototype.parseVariableDeclarator=function(){var e=this.lex.lookAheadNextToken(),t=this.parseIdentifier();if(t){var r=null;if(!this.lex.matchPunctuation("=")||(r=this.parseAssignmentExpression()))return this.nodeFactory.createVariableDeclarator(t,r,this.trackPositionByToken(e))}},i.prototype.parseExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseAssignmentExpression();if(t){if(this.lex.matchPunctuation(",")){var r=[t];do{var n=this.parseAssignmentExpression();if(!n)return;r.push(n)}while(this.lex.matchPunctuation(","));return this.nodeFactory.createExpressionSequence(r,this.trackPositionByToken(e))}return t}},i.isLeftHandExpressionResolvingToReference=function(e){return"Identifier"===e.type||"MemberExpression"===e.type},i.prototype.parseAssignmentExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseConditionalExpression();if(t){var r=this.lex.lookAheadNextToken();if(this.lex.isPunctuation(r)&&i.AssignmentOperators[r.value]){if(!i.isLeftHandExpressionResolvingToReference(t))return void this.parseException.addException("Invalid left-hand side in assignment",r.loc.start.line,r.loc.start.column);this.lex.nextToken();var n=this.parseAssignmentExpression();if(!n)return;return this.nodeFactory.createExpressionAssignment(r.value,t,n,this.trackPositionByToken(e))}return t}},i.prototype.parseConditionalExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseBinaryExpression();if(t){var r=this.lex.lookAheadNextToken();if(this.lex.isPunctuationValue(r,"?")){this.lex.nextToken();var n=this.parseAssignmentExpression();if(!n)return;if(!this.expectPunctuation(":"))return;var i=this.parseAssignmentExpression();if(!i)return;return this.nodeFactory.createExpressionConditional(t,i,n,this.trackPositionByToken(e))}return t}},i.isLogicBinaryTokenValue=function(e){return e<=i.BinaryTokenValues_islogic},i.getBinaryOperationToken=function(e,t){return"in"===e?t?i.BinaryTokenValues[e]:void 0:i.BinaryTokenValues[e]},i.prototype.createBinaryExpression=function(e,t,n,o){var u=this.options.loc?r.lexical.TokenSourceLocation.create(n.loc.start,o.loc.end):void 0;return i.isLogicBinaryTokenValue(e)?this.nodeFactory.createExpressionLogical(t,n,o,u):this.nodeFactory.createExpressionBinary(t,n,o,u)},i.prototype.innerBarseBinaryExpression=function(t){var r=this.parseUnaryExpression();if(r){var n=this.lex.lookAheadNextToken(),o=i.getBinaryOperationToken(n.value,t);if(o&&(this.lex.isPunctuation(n)||this.lex.isKeyword(n))){this.lex.nextToken();var u=this.parseUnaryExpression();if(!u)return;for(var a=[r,u],s=[n.value],c=[o];;){n=this.lex.lookAheadNextToken();var p=i.getBinaryOperationToken(n.value,t);if(!p||!this.lex.isPunctuation(n)&&!this.lex.isKeyword(n))break;this.lex.nextToken();var h=this.parseUnaryExpression();if(!h)return;for(var l=e.last(c);l&&l>=p;){var f=a.pop(),d=a.pop(),y=this.createBinaryExpression(c.pop(),s.pop(),d,f);a.push(y),l=e.last(c)}c.push(p),s.push(n.value),a.push(h)}for(r=a.pop();s.length;)r=this.createBinaryExpression(c.pop(),s.pop(),a.pop(),r)}return r}},i.prototype.parseBinaryExpression=function(){var e=this.inForIn;this.inForIn=!1;var t=this.innerBarseBinaryExpression(!e);return this.inForIn=e,t},i.prototype.parseUnaryExpression=function(){var e=this.lex.lookAheadNextToken(),t=i.UnaryTokenValues[e.value];if(t&&(this.lex.isPunctuation(e)||this.lex.isKeyword(e))){this.lex.nextToken();var r=this.parseUnaryExpression();if(!r)return;return t===i.UnaryTokenValues_update?this.nodeFactory.createExpressionUpdate(e.value,r,!0,this.trackPositionByToken(e)):this.nodeFactory.createExpressionUnary(e.value,!0,r,this.trackPositionByToken(e))}return this.parsePostfixExpression()},i.prototype.parsePostfixExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseLeftHandSideExpression(!0);if(t){var r=this.lex.lookAheadNextToken();return!this.lex.isPunctuation(r)||r.loc.end.line!==this.lex.latestToken().loc.end.line||"++"!==r.value&&"--"!==r.value?t:(this.lex.nextToken(),this.nodeFactory.createExpressionUpdate(r.value,t,!1,this.trackPositionByToken(e)))}},i.prototype.parseIdentifier=function(){var e=this.lex.nextToken();return this.lex.isIdentifier(e)?this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e)):void this.addException(e)},i.prototype.parseLeftHandSideExpression=function(e){var t,r=this.lex.lookAheadNextToken();if(this.lex.isKeyword(r))switch(r.value){case"function":t=this.parseFunction(!1);break;case"new":t=this.parseNewExpression()}if(t=t||this.parsePrimaryExpression()){for(var n,i=!0;i;){var o=this.lex.lookAheadNextToken();if(!this.lex.isPunctuation(o))break;switch(o.value){case"[":if(this.lex.nextToken(),n=this.parseExpression(),!n)return;if(!this.expectPunctuation("]"))return;t=this.nodeFactory.createExpressionMember(t,n,!0,this.trackPositionByToken(r));break;case".":this.lex.nextToken();var u=this.parseIdentifier();if(!u)return;t=this.nodeFactory.createExpressionMember(t,u,!1,this.trackPositionByToken(r));break;case"(":if(e){var a=this.parseArguments();if(!a)return;t=this.nodeFactory.createExpressionCall(t,a,this.trackPositionByToken(r));break}default:i=!1}}return t}},i.prototype.parsePrimaryExpression=function(){var e=this.lex.lookAheadNextToken();switch(e.type){case r.lexical.TokenType.keyword:if("this"===e.value)return this.lex.nextToken(),this.nodeFactory.createExpressionThis(this.trackPositionUnary(e));break;case r.lexical.TokenType.identifier:return this.lex.nextToken(),this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e));case r.lexical.TokenType.literal:return this.lex.nextToken(),this.nodeFactory.createLiteral(e.value,this.trackPositionUnary(e));case r.lexical.TokenType.punctuation:switch(e.value){case"[":return this.parseArrayLiteral();case"{":return this.parseObjectLiteral();case"(":var t=(this.lex.nextToken(),this.parseExpression());if(!t)return;return this.lex.matchPunctuation(")")?t:void this.addException(this.lex.nextToken());case"/=":case"/":if(e=this.lex.reinterpretLastTokenAsRegex(e),this.lex.isError(e))return;return this.nodeFactory.createLiteral(e.value,this.trackPositionUnary(e))}}this.addException(e)},i.prototype.parseNewExpression=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("new")){var t=this.parseLeftHandSideExpression(!1);if(t){var r,n=this.lex.lookAheadNextToken();if(!this.lex.isPunctuationValue(n,"(")||(r=this.parseArguments()))return this.nodeFactory.createExpressionNew(t,r||[],this.trackPositionByToken(e))}}},i.prototype.parseArguments=function(){if(this.expectPunctuation("(")){var e=this.lex.lookAheadNextToken(),t=[];if(this.lex.isPunctuationValue(e,")"))return this.lex.nextToken(),t;for(;;){var r=this.parseAssignmentExpression();if(!r)return;if(t.push(r),e=this.lex.nextToken(),this.lex.isPunctuationValue(e,")"))break;if(!this.lex.isPunctuationValue(e,","))return void this.addException(e)}return t}},i.prototype.parseArrayLiteral=function(){var e=this.lex.lookAheadNextToken();if(this.expectPunctuation("[")){var t=[];for(this.trimArrayCommas(t);!this.lex.matchPunctuation("]");){var r=this.parseAssignmentExpression();if(!r)return;t.push(r),this.lex.matchPunctuation(",")&&this.trimArrayCommas(t)}return this.nodeFactory.createExpressionArray(t,this.trackPositionByToken(e))}},i.prototype.trimArrayCommas=function(e){for(;this.lex.matchPunctuation(",");)e.push(null)},i.prototype.parseObjectLiteral=function(){var e=this.lex.lookAheadNextToken();if(this.expectPunctuation("{")){for(var t=[];;){var r=this.lex.lookAheadNextToken();if(this.lex.isPunctuationValue(r,"}")){this.lex.nextToken();break}var n=this.parsePropertyAssignment();if(!n)return;if(t.push(n),r=this.lex.nextToken(),this.lex.isPunctuationValue(r,"}"))break;if(!this.lex.isPunctuationValue(r,","))return void this.addException(r)}return this.nodeFactory.createExpressionObject(t,this.trackPositionByToken(e))}},i.prototype.parsePropertyAssignment=function(){var e,t=this.lex.lookAheadNextToken();e=this.lex.isIdentifierValue(t,"get")?"get":this.lex.isIdentifierValue(t,"set")?"set":"init";var r=this.parsePropertyName();if(r){var n=this.lex.nextToken();if(this.lex.isPunctuationValue(n,":")){var i=this.parseAssignmentExpression();if(!i)return;return this.nodeFactory.createObjectProperty(r,i,e,this.trackPositionByToken(t))}if(this.lex.isPunctuationValue(n,"(")){var o=[];if(n=this.lex.nextToken(),this.lex.isIdentifier(n)){var u=this.nodeFactory.createIdentifier(n.value,this.trackPositionUnary(n));if(o.push(u),!this.expectPunctuation(")"))return}else if(!this.lex.isPunctuationValue(n,")"))return void this.addException(n);if(!this.expectPunctuation("{"))return;var a=this.parseFunctionBody();if(!this.expectPunctuation("}"))return;var s=this.nodeFactory.createExpressionFunction(null,o,a,this.trackPositionByToken(n));return this.nodeFactory.createObjectProperty(r,s,e,this.trackPositionByToken(t))}this.addException(n)}},i.prototype.parsePropertyName=function(){var e=this.lex.nextToken();return this.lex.isLiteral(e)?e.subType===r.lexical.LiteralSubType.string||e.subType===r.lexical.LiteralSubType.number?this.nodeFactory.createLiteral(e.value,this.trackPositionUnary(e)):this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e)):this.lex.isIdentifier(e)?this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e)):void this.addException(e)},i.prototype.parseFunction=function(e){var t=this.lex.lookAheadNextToken();if(this.expectKeyword("function")){var r=this.lex.lookAheadNextToken(),n=null;if(this.lex.isIdentifier(r))this.lex.nextToken(),n=this.nodeFactory.createIdentifier(r.value,this.trackPositionUnary(r));else if(e)return void this.addException(r);if(this.expectPunctuation("(")){var i=[];for(r=this.lex.lookAheadNextToken();!this.lex.isPunctuationValue(r,")");){if(!this.lex.isIdentifier(r))return void this.addException(r);this.lex.nextToken();var o=this.nodeFactory.createIdentifier(r.value,this.trackPositionUnary(r));i.push(o),this.lex.matchPunctuation(","),r=this.lex.lookAheadNextToken()}if(this.expectPunctuation(")")){var u=this.parseFunctionBody();if(u)return e?this.nodeFactory.createDeclarationFunction(n,i,u,this.trackPositionByToken(t)):this.nodeFactory.createExpressionFunction(n,i,u,this.trackPositionByToken(t))}}}},i.prototype.parseFunctionBody=function(){this.newSwitchScope(),this.newIterationScope(),this.beginFunction();var e=this.parseBlockStatement();return this.restoreSwitchScope(),this.restoreIterationScope(),this.finishFunction(),e},i.defaultParserOptions={loc:!1,tolerateErrors:!1},i.lexerOptions={loc:!0,readableTokensMode:!1,includeCommentsAsNormalTokens:!1},i.AssignmentOperators={"=":!0,"||":!0,"*=":!0,"/=":!0,"%=":!0,"+=":!0,"-=":!0,"<<=":!0,">>=":!0,">>>=":!0,"&=":!0,"^=":!0,"|=":!0},i.BinaryTokenValues_or=1,i.BinaryTokenValues_and=2,i.BinaryTokenValues_islogic=i.BinaryTokenValues_and,i.BinaryTokenValues_bor=3,i.BinaryTokenValues_xor=4,i.BinaryTokenValues_band=5,i.BinaryTokenValues_eq=6,i.BinaryTokenValues_rel=7,i.BinaryTokenValues_shift=8,i.BinaryTokenValues_add=9,i.BinaryTokenValues_multi=10,i.BinaryTokenValues={"||":i.BinaryTokenValues_or,"&&":i.BinaryTokenValues_and,"|":i.BinaryTokenValues_bor,"^":i.BinaryTokenValues_xor,"&":i.BinaryTokenValues_band,"==":i.BinaryTokenValues_eq,"!=":i.BinaryTokenValues_eq,"===":i.BinaryTokenValues_eq,"!==":i.BinaryTokenValues_eq,"<":i.BinaryTokenValues_rel,">":i.BinaryTokenValues_rel,"<=":i.BinaryTokenValues_rel,">=":i.BinaryTokenValues_rel,"instanceof":i.BinaryTokenValues_rel,"in":i.BinaryTokenValues_rel,"<<":i.BinaryTokenValues_shift,">>":i.BinaryTokenValues_shift,">>>":i.BinaryTokenValues_shift,"+":i.BinaryTokenValues_add,"-":i.BinaryTokenValues_add,"*":i.BinaryTokenValues_multi,"/":i.BinaryTokenValues_multi,"%":i.BinaryTokenValues_multi},i.UnaryTokenValues_unary=1,i.UnaryTokenValues_update=2,i.UnaryTokenValues={"-":i.UnaryTokenValues_unary,"+":i.UnaryTokenValues_unary,"!":i.UnaryTokenValues_unary,"~":i.UnaryTokenValues_unary,"typeof":i.UnaryTokenValues_unary,"void":i.UnaryTokenValues_unary,
"delete":i.UnaryTokenValues_unary,"++":i.UnaryTokenValues_update,"--":i.UnaryTokenValues_update},i}();n.Parser=i}(n=r.syntax||(r.syntax={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(t){function r(t,r){for(var n=new e.lexical.CharacterStream(t),i=new e.ExceptionHandler,o=new e.lexical.Lexer(n,i,r),u=[];o.hasNext();){var a=o.nextToken();u.push(a)}var s={tokens:u};return i.hasExceptions()&&(s.exceptions=i.getExceptions()),s}function n(t,r){var n=new e.syntax.Parser(t,r),i=n.parse(),o={program:i},u=n.getExceptions();return u.hasExceptions()&&(o.exceptions=u.getExceptions()),o}t.tokenize=r,t.parse=n}(t=e.api||(e.api={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){!function(e){e[e.normal=0]="normal",e[e["break"]=1]="break",e[e["continue"]=2]="continue",e[e["return"]=3]="return",e[e["throw"]=4]="throw"}(e.JSCompletionType||(e.JSCompletionType={}));var t=e.JSCompletionType,r=function(){function r(e,r,n){void 0===e&&(e=t.normal),this.type=e,this.val=r,this.target=n}return r.prototype.getType=function(){return e.JSSpecificationTypes.completion},r}();e.JSCompletion=r}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.prototype.getBindingValue=function(t,r){return e.throwNotImplementedYet()},t.prototype.setMutableBinding=function(t,r,n){e.throwNotImplementedYet()},t.prototype.getType=function(){return e.JSSpecificationTypes.environmentRecord},t}();e.JSEnviromentRecord=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(e){void 0===e&&(e=[]),this.list=e}return t.prototype.getType=function(){return e.JSSpecificationTypes.list},t}();e.JSList=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(e,t,r,n,i,o){this.jsvalue=e,this.jswritable=t,this.jsget=r,this.jsset=n,this.jsenumerable=i,this.jsconfigurable=o}return t.createDataPropertyDescriptor=function(r,n,i,o){return void 0===r&&(r=e.JSApi.createUndefined()),void 0===n&&(n=e.JSApi.createBoolean(!1)),void 0===i&&(i=e.JSApi.createBoolean(!1)),void 0===o&&(o=e.JSApi.createBoolean(!1)),new t(r,n,void 0,void 0,i,o)},t.createAccessorPropertyDescriptor=function(r,n,i,o){return void 0===r&&(r=e.JSApi.createUndefined()),void 0===n&&(n=e.JSApi.createUndefined()),void 0===i&&(i=e.JSApi.createBoolean(!1)),void 0===o&&(o=e.JSApi.createBoolean(!1)),new t(void 0,void 0,r,n,i,o)},t.prototype.isAccessorDescriptor=function(){return void 0!==this.jsget||void 0!==this.jsget},t.prototype.isDataDescriptor=function(){return void 0!==this.jsvalue||void 0!==this.jswritable},t.prototype.isGenericDescriptor=function(){return!this.isAccessorDescriptor()&&!this.isDataDescriptor()},t.prototype.fromPropertyDescriptor=function(){var r=e.JSApi.createObject();return this.isDataDescriptor()?(r.objDefineOwnProperty(e.JSApi.createString("value"),t.createDataPropertyDescriptor(this.jsvalue,e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0)),!1),r.objDefineOwnProperty(e.JSApi.createString("writable"),t.createDataPropertyDescriptor(this.jsvalue,e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0)),!1)):this.isAccessorDescriptor()&&(r.objDefineOwnProperty(e.JSApi.createString("get"),t.createDataPropertyDescriptor(this.jsget,e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0)),!1),r.objDefineOwnProperty(e.JSApi.createString("set"),t.createDataPropertyDescriptor(this.jsset,e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0)),!1)),r.objDefineOwnProperty(e.JSApi.createString("enumerable"),t.createDataPropertyDescriptor(this.jsenumerable,e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0)),!1),r.objDefineOwnProperty(e.JSApi.createString("configurable"),t.createDataPropertyDescriptor(this.jsconfigurable,e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0),e.JSApi.createBoolean(!0)),!1),r},t.toPropertyDescriptor=function(r){if(!e.JSApi.isObject(r))return void e.JSApi.throwTypeErrorException();var n=r,i=new t;if(n.objHasProperty(e.JSApi.createString("enumerable"))&&(i.jsenumerable=e.JSApi.toBoolean(n.objGet(e.JSApi.createString("enumerable")))),n.objHasProperty(e.JSApi.createString("configurable"))&&(i.jsconfigurable=e.JSApi.toBoolean(n.objGet(e.JSApi.createString("configurable")))),n.objHasProperty(e.JSApi.createString("value"))&&(i.jsvalue=n.objGet(e.JSApi.createString("value"))),n.objHasProperty(e.JSApi.createString("writable"))&&(i.jswritable=e.JSApi.toBoolean(n.objGet(e.JSApi.createString("writable")))),n.objHasProperty(e.JSApi.createString("get"))){var o=n.objGet(e.JSApi.createString("get"));if(!e.JSApi.isCallable(o)&&!e.JSApi.isUndefined(o))return void e.JSApi.throwTypeErrorException();i.jsget=o}if(n.objHasProperty(e.JSApi.createString("set"))){var u=n.objGet(e.JSApi.createString("set"));if(!e.JSApi.isCallable(u)&&!e.JSApi.isUndefined(u))return void e.JSApi.throwTypeErrorException();i.jsset=u}return(i.jsget||i.jsset)&&(i.jsvalue||i.jswritable)?void e.JSApi.throwTypeErrorException():i},t.prototype.getType=function(){return e.JSSpecificationTypes.propertyDescriptor},t}();e.JSPropertyDescriptor=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(e,t){this.name=e,this.descriptor=t}return t.prototype.getType=function(){return e.JSSpecificationTypes.propertyIdentifier},t}();e.JSPropertyIdentifier=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(){}return t.prototype.getBase=function(){return this.baseValue},t.prototype.getReferencedName=function(){return this.referencedName},t.prototype.isStrictReference=function(){return this.strict},t.prototype.hasPrimitiveBase=function(){return this.baseValue.getType()===e.JSValues["boolean"]||this.baseValue.getType()===e.JSValues.string||this.baseValue.getType()===e.JSValues.number},t.prototype.isPropertyReference=function(){return this.hasPrimitiveBase()||this.baseValue.getType()===e.JSValues.object},t.prototype.isUnresolvableReference=function(){return this.baseValue.getType()===e.JSValues.undefined},t.prototype.getType=function(){return e.JSSpecificationTypes.reference},t}();e.JSReference=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){function t(t){if(t.getType()!==n.reference)return t;var r=t,i=r.getBase();if(r.isUnresolvableReference())return void e.JSApi.throwReferenceErrorException();if(r.isPropertyReference()){if(r.hasPrimitiveBase()){var o=e.JSApi.toObject(i),u=o.objGetProperty(r.getReferencedName());if(u instanceof e.JSUndefined)return u;var a=u;return a.isDataDescriptor()?a.jsvalue:e.JSApi.isUndefined(a.jsget)?a.jsget:a.jsget.objCall(i)}return i.objGet(r.getReferencedName())}return i.getBindingValue(r.getReferencedName(),r.isStrictReference())}function r(t,r,i){if(r.getType()!==n.reference)return r;var o=r,u=o.getBase();if(o.isUnresolvableReference()){if(o.isStrictReference())return void e.JSApi.throwReferenceErrorException();t.objPut(o.getReferencedName(),i,!1)}else if(o.isPropertyReference)if(o.hasPrimitiveBase()){var a=e.JSApi.toObject(u);if(!a.objCanPut(o.getReferencedName()))return void(o.isStrictReference()&&e.JSApi.throwReferenceErrorException());var s=a.objGetOwnProperty(o.getReferencedName());if(s instanceof e.JSPropertyDescriptor&&s.isDataDescriptor())return void(o.isStrictReference()&&e.JSApi.throwReferenceErrorException());var c=a.objGetProperty(o.getReferencedName());c instanceof e.JSPropertyDescriptor&&c.isAccessorDescriptor()?c.jsset.objCall(u,[o.getReferencedName()]):e.throwNotImplementedYet()}else u.objPut(o.getReferencedName(),i,o.isStrictReference());else u.setMutableBinding(o.getReferencedName(),i,o.isStrictReference())}!function(e){e[e.reference=0]="reference",e[e.list=1]="list",e[e.completion=2]="completion",e[e.propertyDescriptor=3]="propertyDescriptor",e[e.propertyIdentifier=4]="propertyIdentifier",e[e.lexicalEnvironment=5]="lexicalEnvironment",e[e.environmentRecord=6]="environmentRecord"}(e.JSSpecificationTypes||(e.JSSpecificationTypes={}));var n=e.JSSpecificationTypes;e.JSGetValue=t,e.JSPutValue=r}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(e){this.value=e}return t.prototype.getType=function(){return e.JSValues["boolean"]},t.prototype.getValue=function(){return this.value},t}();e.JSBoolean=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(e){this.value=e}return t.prototype.getType=function(){return e.JSValues.number},t.prototype.getValue=function(){return this.value},t}();e.JSNumber=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t,r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};!function(t){var n;!function(n){var i=function(){function r(){this.objProps={}}return r.prototype.objGet=function(e){var r=this.objGetProperty(e);if(r instanceof n.JSUndefined)return r;var i=r;return i.isDataDescriptor()?i.jsvalue:(t.utilities.assert(i.isAccessorDescriptor()),i.jsget instanceof n.JSUndefined?i.jsget:i.jsget.objCall(this))},r.prototype.objGetOwnProperty=function(r){if(!e.has(this.objProps,r.getValue()))return n.JSApi.createUndefined();var i=new n.JSPropertyDescriptor,o=this.objProps[r.getValue()];return o.isDataDescriptor()?(i.jsvalue=o.jsvalue,i.jswritable=o.jswritable):(t.utilities.assert(o.isAccessorDescriptor()),i.jsget=o.jsget,i.jsset=o.jsset),i.jsenumerable=o.jsenumerable,i.jsconfigurable=o.jsconfigurable,i},r.prototype.objGetProperty=function(e){var t=this.objGetOwnProperty(e);return t instanceof n.JSPropertyDescriptor?t:n.JSApi.isNull(this.objPrototype)?n.JSApi.createUndefined():this.objPrototype.objGetProperty(e)},r.prototype.objPut=function(e,t,r){},r.prototype.objCanPut=function(e){var r=this.objGetOwnProperty(e);if(r instanceof n.JSPropertyDescriptor)return r.isAccessorDescriptor()?n.JSApi.createBoolean(!(r.jsset instanceof n.JSUndefined)):r.jswritable;if(n.JSApi.isNull(this.objPrototype))return this.objExtensible;var i=this.objPrototype.objGetProperty(e);if(i instanceof n.JSUndefined)return this.objExtensible;var o=i;return o.isAccessorDescriptor()?n.JSApi.createBoolean(!(o.jsset instanceof n.JSUndefined)):(t.utilities.assert(o.isDataDescriptor()),n.JSApi.isBooleanWithValue(this.objExtensible,!1)?n.JSApi.createBoolean(!1):o.jswritable)},r.prototype.objHasProperty=function(e){},r.prototype.objDelete=function(e){},r.prototype.objDefaultValue=function(e,t){},r.prototype.objDefineOwnProperty=function(e,t,r){},r.prototype.getType=function(){return n.JSValues.object},r}();n.JSObject=i;var o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(i);n.JSGlobalObject=o}(n=t.backend||(t.backend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t=function(){function t(e){this.value=e}return t.prototype.getType=function(){return e.JSValues.string},t.prototype.getValue=function(){return this.value},t}();e.JSString=t}(t=e.backend||(e.backend={}))}(t||(t={}));var t,r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};return!function(e){var t;!function(e){var t=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.objCall=function(e,t){throw Error("not implemented yet")},t}(e.JSObject);e.JSCallableObject=t}(t=e.backend||(e.backend={}))}(t||(t={})),t});