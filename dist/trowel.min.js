!function(e,t){"function"==typeof define&&define.amd?define(["underscore"],t):"object"==typeof exports?module.exports=t(require("underscore")):e.trowel=e.trl=t(e._)}(this,function(e){if(!e||!e.VERSION)throw new Error("Trowel's JavaScript requires underscore");var t;!function(e){var t;!function(e){var t;!function(e){!function(e){e[e.keyword=1]="keyword",e[e.identifier=2]="identifier",e[e.literal=3]="literal",e[e.punctuation=4]="punctuation",e[e.comment=5]="comment",e[e.eof=6]="eof",e[e.error=7]="error"}(e.TokenType||(e.TokenType={}));e.TokenType;!function(e){e[e.string=1]="string",e[e.number=2]="number",e[e["null"]=3]="null",e[e["boolean"]=4]="boolean",e[e.regex=5]="regex"}(e.LiteralSubType||(e.LiteralSubType={}));e.LiteralSubType}(t=e.lexical||(e.lexical={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(t){var r;!function(t){var r=function(){function t(){this.exceptions=[]}return t.prototype.addException=function(e,t,r){var n={pos:{column:r,line:t},msg:e};this.exceptions.push(n)},t.prototype.hasExceptions=function(){return!e.isEmpty(this.exceptions)},t.prototype.clear=function(){this.exceptions.length=0},t.prototype.getExceptions=function(){return this.exceptions},t}();t.ExceptionHandler=r}(r=t.utilities||(t.utilities={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.createStringFromCharPointGenerator=function(){var t=[];return{addCharPoint:function(r){t.push(e.fromCodePoint(r))},getString:function(){return t.join("")}}},e.getDigitFromCharPoint=function(t){return t-e.ZERO_CHAR_CODE},e.codePointAt=function(e,t){return e.codePointAt(t)},e.fromCodePoint=function(e){return String.fromCodePoint(e)},e.ZERO_CHAR_CODE="0".charCodeAt(0),e}();e.CharPoints=t}(t=e.utilities||(e.utilities={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){var t=!0,r=function(){function e(){}return e.WS={9:t,11:t,12:t,32:t,160:t,65279:t},e.LT={10:t,13:t,8232:t,514:t},e.KW={"break":t,"do":t,"instanceof":t,"typeof":t,"case":t,"else":t,"new":t,"var":t,"catch":t,"finally":t,"return":t,"void":t,"continue":t,"for":t,"switch":t,"while":t,"debugger":t,"function":t,"this":t,"with":t,"default":t,"if":t,"throw":t,"delete":t,"in":t,"try":t,"class":t,"enum":t,"extends":t,"super":t,"const":t,"export":t,"import":t,"implements":t,let:t,"private":t,"public":t,"interface":t,"package":t,"protected":t,"static":t,"yield":t},e.LIT={"null":t,"true":t,"false":t},e.PNC_SINGLE={lbrace:123,rbrace:125,lparenth:40,rparenth:41,lbracket:91,rbracket:93,dot:46,semicolon:59,comma:44,less:60,more:62,plus:43,minus:45,percent:37,ampersand:38,vertical:124,caret:94,excl:33,tilde:126,quest:63,colon:58,assign:61,asterisk:42,slash:47,backslash:92,dollar:36,exp:101,expb:69,apostrophe:39,qmark:34,zero:48,b:98,f:102,n:110,r:114,t:116,v:118,x:120,u:117,lf:10,cr:13},e.UNICODE_UNCOMMON_THRESHOLD=170,e.UNICODE_CONTINUE_COMMON={8204:t,8205:t,36:t,92:t,48:t,49:t,50:t,51:t,52:t,53:t,54:t,55:t,56:t,57:t,65:t,66:t,67:t,68:t,69:t,70:t,71:t,72:t,73:t,74:t,75:t,76:t,77:t,78:t,79:t,80:t,81:t,82:t,83:t,84:t,85:t,86:t,87:t,88:t,89:t,90:t,95:t,97:t,98:t,99:t,100:t,101:t,102:t,103:t,104:t,105:t,106:t,107:t,108:t,109:t,110:t,111:t,112:t,113:t,114:t,115:t,116:t,117:t,118:t,119:t,120:t,121:t,122:t},e.UNICODE_CONTINUE_UNCOMMON=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u0300-\u036F\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u0483-\u0486\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05B9\u05BB-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u0615\u0621-\u063A\u0640-\u065E\u0660-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u076D\u0780-\u07B1\u0901-\u0939\u093C-\u094D\u0950-\u0954\u0958-\u0963\u0966-\u096F\u097D\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A59-\u0A5C\u0A5E\u0A66-\u0A74\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B43\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C60\u0C61\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D60\u0D61\u0D66-\u0D6F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC\u0EDD\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6A\u0F71-\u0F84\u0F86-\u0F8B\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1021\u1023-\u1027\u1029\u102A\u102C-\u1032\u1036-\u1039\u1040-\u1049\u1050-\u1059\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18A9\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19A9\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1D00-\u1DC3\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u2094\u20D0-\u20DC\u20E1\u20E5-\u20EB\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2160-\u2183\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA827\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE23\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDF00-\uDF1E\uDF30-\uDF4A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCE-\uDFFF]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,e.UNICODE_START_COMMON={36:t,92:t,95:t,65:t,66:t,67:t,68:t,69:t,70:t,71:t,72:t,73:t,74:t,75:t,76:t,77:t,78:t,79:t,80:t,81:t,82:t,83:t,84:t,85:t,86:t,87:t,88:t,89:t,90:t,97:t,98:t,99:t,100:t,101:t,102:t,103:t,104:t,105:t,106:t,107:t,108:t,109:t,110:t,111:t,112:t,113:t,114:t,115:t,116:t,117:t,118:t,119:t,120:t,121:t,122:t},e.UNICODE_START_UNCOMMON=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950\u0958-\u0961\u097D\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D60\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021\u1023-\u1027\u1029\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2160-\u2183\u2C00-\u2C2E\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FBB\uA000-\uA48C\uA800\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDF00-\uDF1E\uDF30-\uDF4A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFC9]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD87E[\uDC00-\uDE1D]/,e}();e.TokenDefinitions=r}(t=e.lexical||(e.lexical={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(t){var r;!function(r){var n={};e.each("0123456789ABCDEFabcdef",function(e){n[t.utilities.CharPoints.codePointAt(e,0)]=!0});var i={};e.each("0123456789",function(e){i[t.utilities.CharPoints.codePointAt(e,0)]=!0});var u=function(){function u(){}return u.isHexDigit=function(e){return n[e]},u.isDigit=function(e){return i[e]},u.isKeyword=function(t){return e.has(r.TokenDefinitions.KW,t)},u.isLineTerminator=function(e){return r.TokenDefinitions.LT[e]},u.isIdentifierStart=function(e){return u.isSimpleUnicodeStart(e)||u.isComplexUnicodeStart(e)},u.isIdentifierPart=function(e){return u.isSimpleUnicodeContinue(e)||u.isComplexUnicodeContinue(e)},u.isSimpleUnicodeContinue=function(e){return r.TokenDefinitions.UNICODE_CONTINUE_COMMON[e]},u.isComplexUnicodeContinue=function(e){return e>r.TokenDefinitions.UNICODE_UNCOMMON_THRESHOLD&&r.TokenDefinitions.UNICODE_CONTINUE_UNCOMMON.test(t.utilities.CharPoints.fromCodePoint(e))},u.isSimpleUnicodeStart=function(e){return r.TokenDefinitions.UNICODE_START_COMMON[e]},u.isComplexUnicodeStart=function(e){return e>r.TokenDefinitions.UNICODE_UNCOMMON_THRESHOLD&&r.TokenDefinitions.UNICODE_START_UNCOMMON.test(t.utilities.CharPoints.fromCodePoint(e))},u.isPunctuationStart=function(e){return r.TokenDefinitions.PNC_SINGLE[e]},u}();r.Identifyers=u}(r=t.lexical||(t.lexical={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(t){var r;!function(r){var n={identifier:"stateIdentifier",punctuation:"statePunctuation",multiComment:"stateMultiComment",singleComment:"stateSingleComment",divOrComment:"stateDivOrComment",dotOrNumber:"stateDotOrNumber",error:"stateError",finish:"stateFinish",init:"stateInit"},i={keyword:"keyword",identifier:"identifier",literal:"literal",punctuation:"punctuation",comment:"comment",eof:"eof",error:"error"},u={string:"string",number:"number","null":"null","boolean":"boolean",regex:"regex"},o=function(){var e={};return e[r.TokenType.keyword]=i.keyword,e[r.TokenType.identifier]=i.identifier,e[r.TokenType.literal]=i.literal,e[r.TokenType.punctuation]=i.punctuation,e[r.TokenType.comment]=i.comment,e[r.TokenType.eof]=i.eof,e[r.TokenType.error]=i.error,function(t){return e[t]}}(),a=function(){var e={};return e[r.LiteralSubType.string]=u.string,e[r.LiteralSubType.number]=u.number,e[r.LiteralSubType["null"]]=u["null"],e[r.LiteralSubType["boolean"]]=u["boolean"],e[r.LiteralSubType.regex]=u.regex,function(t){return e[t]}}(),s=r.TokenDefinitions.PNC_SINGLE,c=function(){function u(t,r,n){this.charStream=t,this.exceptionHandler=r,this.options=n,this.options=e.defaults(e.clone(n||{}),u.defaultLexerOptions),this.lineno=1,this.currLineCursor=0,this.comments=[],u.initiateCharecterLookupOnce()}return u.initiateCharecterLookupOnce=function(){if(!u.CharecterLookup){var i=u.CharecterLookup={};e.each(r.TokenDefinitions.WS,function(e,t){return i[t]=u.prototype.stateWhiteSpace}),e.each(r.TokenDefinitions.LT,function(e,t){return i[t]=u.prototype.stateLineTerminator}),i[s.qmark]=u.genStateString(s.qmark),i[s.apostrophe]=u.genStateString(s.apostrophe),e.each("0123456789",function(e){return i[t.utilities.CharPoints.codePointAt(e,0)]=u.prototype.stateNumber}),i[s.lbrace]=u.prototype.statePunctuationSingle,i[s.rbrace]=u.prototype.statePunctuationSingle,i[s.lparenth]=u.prototype.statePunctuationSingle,i[s.rparenth]=u.prototype.statePunctuationSingle,i[s.lbracket]=u.prototype.statePunctuationSingle,i[s.rbracket]=u.prototype.statePunctuationSingle,i[s.dot]=function(){return n.dotOrNumber},i[s.semicolon]=u.prototype.statePunctuationSingle,i[s.comma]=u.prototype.statePunctuationSingle,i[s.less]=u.genPunctuationScanner([[s.less],[s.assign],[s.less,s.less],[s.less,s.assign]]),i[s.more]=u.genPunctuationScanner([[s.more],[s.assign],[s.more,s.more],[s.more,s.assign],[s.more,s.more,s.assign]]),i[s.excl]=u.genPunctuationScanner([[s.assign],[s.assign,s.assign]]),i[s.minus]=u.genPunctuationScanner([[s.minus],[s.assign]]),i[s.plus]=u.genPunctuationScanner([[s.plus],[s.assign]]),i[s.percent]=u.genPunctuationScanner([[s.assign]]),i[s.ampersand]=u.genPunctuationScanner([[s.ampersand],[s.assign]]),i[s.vertical]=u.genPunctuationScanner([[s.vertical],[s.assign]]),i[s.caret]=u.genPunctuationScanner([[s.assign]]),i[s.tilde]=u.prototype.statePunctuationSingle,i[s.quest]=u.prototype.statePunctuationSingle,i[s.colon]=u.prototype.statePunctuationSingle,i[s.assign]=u.genPunctuationScanner([[s.assign],[s.assign,s.assign]]),i[s.asterisk]=u.genPunctuationScanner([[s.assign]]),i[s.slash]=function(){return n.divOrComment},i[s.backslash]=function(){return n.identifier}}},u.prototype.isError=function(e){return this.options.readableTokensMode?e.type===i.error:e.type===r.TokenType.error},u.prototype.isEof=function(e){return this.options.readableTokensMode?e.type===i.eof:e.type===r.TokenType.eof},u.prototype.isComment=function(e){return this.options.readableTokensMode?e.type===i.comment:e.type===r.TokenType.comment},u.prototype.isLiteral=function(e){return this.options.readableTokensMode?e.type===i.literal:e.type===r.TokenType.literal},u.prototype.isPunctuation=function(e){return this.options.readableTokensMode?e.type===i.punctuation:e.type===r.TokenType.punctuation},u.prototype.isKeyword=function(e){return this.options.readableTokensMode?e.type===i.keyword:e.type===r.TokenType.keyword},u.prototype.isIdentifier=function(e){return this.options.readableTokensMode?e.type===i.identifier:e.type===r.TokenType.identifier},u.prototype.isPunctuationValue=function(e,t){return this.isPunctuation(e)&&e.value===t},u.prototype.isKeywordValue=function(e,t){return this.isKeyword(e)&&e.value===t},u.prototype.isIdentifierValue=function(e,t){return this.isIdentifier(e)&&e.value===t},u.prototype.matchType=function(e,t){var r=this.lookAheadNextToken();return t.call(this,r,e)?(this.nextToken(),!0):!1},u.prototype.matchPunctuation=function(e){return this.matchType(e,this.isPunctuationValue)},u.prototype.matchKeyword=function(e){return this.matchType(e,this.isKeywordValue)},u.prototype.reinterpretLastTokenAsRegex=function(e){return t.utilities.assert(this.isPunctuationValue(e,"/")||this.isPunctuationValue(e,"/=")),this.lookAheadToken=void 0,this.charStream.bwdCursorRange(e.value.length),this.beginFromStateRegex()},u.prototype.nextToken=function(){var e=this.lookAheadToken;if(e)return this.lookAheadToken=void 0,this.currentToken=e;var t=this.beginFromStateInit();if(this.isComment(t))if(this.options.includeCommentsAsNormalTokens)this.comments.push(t);else do this.comments.push(t),t=this.beginFromStateInit();while(this.isComment(t));return t},u.prototype.startStateEngine=function(e){for(;e;)e=this[e].call(this);return this.options.readableTokensMode&&this.translateReadableTokens(),this.currentToken=this.token},u.prototype.translateReadableTokens=function(){this.token.type=o(this.token.type),this.token.subType&&(this.token.subType=a(this.token.subType))},u.prototype.beginFromStateInit=function(){var e=this.stateInit();return this.startStateEngine(e)},u.prototype.beginFromStateRegex=function(){this.cleanupContext();var e=this.stateRegex();return this.startStateEngine(e)},u.prototype.cleanupContext=function(){this.token=void 0,this.startLineno=this.lineno,this.relativeStartCursor=this.charStream.getCursor()-this.currLineCursor,this.absoluteStartCursor=this.charStream.getCursor()},u.prototype.latestToken=function(){return this.currentToken},u.prototype.lookAheadNextToken=function(){var e=this.currentToken;return this.lookAheadToken=this.nextToken(),this.currentToken=e,this.lookAheadToken},u.prototype.hasNext=function(){var e=this.lookAheadNextToken();return!this.isEof(e)&&!this.isError(e)},u.prototype.getComments=function(){return this.comments},u.prototype.getCurrentCursorPos=function(){return{line:this.lineno,column:this.charStream.getCursor()-this.currLineCursor}},u.prototype.stateFinish=function(){},u.prototype.stateError=function(){this.token=this.createTokenFromPos(r.TokenType.error)},u.prototype.stateInit=function(){if(this.cleanupContext(),this.charStream.isEof())return this.token=this.createToken(r.TokenType.eof,void 0),n.finish;var e,t=this.charStream.getNextChar();if(r.Identifyers.isIdentifierStart(t))this.charStream.bwdCursor(),e=n.identifier;else{var i=u.CharecterLookup[t];i?(this.charStream.bwdCursor(),e=i.call(this)):void 0!==t&&(e=this.unexpectedChar())}return e},u.prototype.stateIdentifier=function(){var e=t.utilities.CharPoints.createStringFromCharPointGenerator(),i=this.charStream.getNextChar();if(!this.scanUnicodeEscapeSequence(e,i))return this.unexpectedChar();for(;;){var u=this.charStream.getNextChar();if(!r.Identifyers.isIdentifierPart(u)){void 0!==u&&this.charStream.bwdCursor();break}if(!this.scanUnicodeEscapeSequence(e,u))return this.unexpectedChar()}var o,a,s=e.getString();if(r.Identifyers.isKeyword(s))o=r.TokenType.keyword;else switch(s){case"null":o=r.TokenType.literal,a=r.LiteralSubType["null"],s=null;break;case"true":o=r.TokenType.literal,a=r.LiteralSubType["boolean"],s=!0;break;case"false":o=r.TokenType.literal,a=r.LiteralSubType["boolean"],s=!1;break;default:o=r.TokenType.identifier}return this.token=this.createToken(o,s,a),n.finish},u.genStateString=function(e){return function(){this.charStream.getNextChar();for(var i=t.utilities.CharPoints.createStringFromCharPointGenerator();;){var u=this.charStream.getNextChar();if(u===e)break;if(u===s.backslash)switch(u=this.charStream.getNextChar()){case s.b:i.addCharPoint(8);break;case s.f:i.addCharPoint(12);break;case s.n:i.addCharPoint(10);break;case s.r:i.addCharPoint(13);break;case s.t:i.addCharPoint(9);break;case s.v:i.addCharPoint(11);break;case s.x:if(!this.handleScangits(2,i))return n.error;break;case s.u:if(!this.handleScanHexDigits(4,i))return n.error;break;default:r.Identifyers.isLineTerminator(u)&&(i.addCharPoint(u),this.handleNewLine())}else{if(void 0===u)return this.unexpectedChar("unclosed string");i.addCharPoint(u)}}return this.token=this.createToken(r.TokenType.literal,i.getString(),r.LiteralSubType.string),n.finish}},u.prototype.stateNumber=function(){if(this.charStream.match(s.zero)){if(this.charStream.match(s.x)){var e=this.scanHexDigits();return void 0===e?this.unexpectedChar():(this.token=this.createToken(r.TokenType.literal,e,r.LiteralSubType.number),n.finish)}this.charStream.bwdCursor()}var t=this.scanDigits(),i=t.length;if(this.charStream.match(s.dot)){var u=this.scanDecimal();void 0!==u&&(t=t.concat(u))}return this.scanExponensialAndCreateNumber(t,i)},u.prototype.stateDotOrNumber=function(){this.charStream.fwdCursor();var e=this.scanDecimal();return void 0!==e?this.scanExponensialAndCreateNumber(e,0):(this.charStream.bwdCursor(),this.statePunctuationSingle())},u.prototype.stateDivOrComment=function(){this.charStream.fwdCursor();var e=this.charStream.getNextChar();switch(e){case s.slash:return n.singleComment;case s.asterisk:return n.multiComment;case s.assign:break;default:this.charStream.bwdCursor()}return this.charStream.bwdCursor(),this.statePunctuationSingle()},u.prototype.statePunctuationSingle=function(){return this.charStream.fwdCursor(),this.token=this.createTokenFromPos(r.TokenType.punctuation),n.finish},u.prototype.stateWhiteSpace=function(){return this.charStream.fwdCursor(),n.init},u.prototype.stateLineTerminator=function(){var e=this.charStream.getNextChar();return this.charStream.matchComplex(function(t){return e===s.cr&&t===s.lf||void 0===t}),this.handleNewLine(),n.init},u.prototype.stateSingleComment=function(){do{var e=this.charStream.getNextChar();if(r.Identifyers.isLineTerminator(e)){this.handleNewLine();break}}while(void 0!==e);return this.token=this.createTokenFromPos(r.TokenType.comment),n.finish},u.prototype.stateMultiComment=function(){for(;;){var e=this.charStream.getNextChar();if(e===s.asterisk&&this.charStream.match(s.slash))break;if(void 0===e)return this.unexpectedChar("unclosed string");r.Identifyers.isLineTerminator(e)&&this.handleNewLine()}return this.token=this.createTokenFromPos(r.TokenType.comment),n.finish},u.prototype.scanUnicodeEscapeSequence=function(e,t){if(t===s.backslash){if(t=this.charStream.getNextChar(),t!==s.u)return!1;var r=this.scanHexDigitsTimes(4);if(void 0===r)return!1;e.addCharPoint(r)}else e.addCharPoint(t);return!0},u.prototype.stateRegex=function(){var e=t.utilities.CharPoints.createStringFromCharPointGenerator(),i=this.charStream.getNextChar();e.addCharPoint(i);for(var u=!0,o=!1;u;){if(i=this.charStream.getNextChar(),void 0===i)return this.unexpectedChar("Invalid regular expression");switch(e.addCharPoint(i),i){case s.backslash:if(i=this.charStream.getNextChar(),void 0===i||r.Identifyers.isLineTerminator(i))return this.unexpectedChar("Invalid regular expression");e.addCharPoint(i);break;case s.lbracket:o=!0;break;case s.rbracket:o&&(o=!1);break;case s.slash:u=!1;break;default:if(void 0===i||r.Identifyers.isLineTerminator(i))return this.unexpectedChar()}}for(;;){if(i=this.charStream.getNextChar(),!r.Identifyers.isIdentifierPart(i)){void 0!==i&&this.charStream.bwdCursor();break}e.addCharPoint(i)}return this.token=this.createToken(r.TokenType.literal,e.getString(),r.LiteralSubType.regex),n.finish},u.prototype.scanExponensialAndCreateNumber=function(e,t){var i=this.scanExponential();if(void 0===i)return n.error;if(this.charStream.matchComplex(function(e){return r.Identifyers.isIdentifierPart(e)}))return this.unexpectedChar();var u=this.createNumber(e,t,i);return this.token=this.createToken(r.TokenType.literal,u,r.LiteralSubType.number),n.finish},u.prototype.scanDigits=function(){for(var e,n=[],i=this.charStream.getCursor();;){if(e=this.charStream.getNextChar(),!r.Identifyers.isDigit(e))break;var u=t.utilities.CharPoints.getDigitFromCharPoint(e);n.push(u)}void 0!==e&&this.charStream.bwdCursor();var o=this.charStream.getCursor();return o-i!==0?n:void 0},u.prototype.scanDecimal=function(){var e=this.charStream.getCursor(),t=this.scanDigits(),r=this.charStream.getCursor(),n=r-e;return 0!==n?t:void 0},u.prototype.scanExponential=function(){var e=this.charStream.getNextChar();if(e===s.exp||e===s.expb){e=this.charStream.getNextChar();var t;e===s.minus?t=!0:e!==s.plus&&this.charStream.bwdCursor();var r=this.scanDigits();if(void 0===r)return void this.unexpectedChar("exponential should postfixed by numbers");var n=this.createNumber(r,r.length,0);return t?-n:n}return void 0!==e&&this.charStream.bwdCursor(),0},u.prototype.scanHexDigitsTimes=function(e){var t=e;do{var n=this.charStream.getNextChar();if(!r.Identifyers.isHexDigit(n))return void this.charStream.bwdCursorRange(t-(e-1))}while(--e);var i=this.charStream.getCursor(),u=this.charStream.tokenize(i-t);return parseInt(u,16)},u.prototype.scanHexDigits=function(){for(var e=this.charStream.getNextChar(),t=0;r.Identifyers.isHexDigit(e);)++t,e=this.charStream.getNextChar();if(0!==t){void 0!==e&&this.charStream.bwdCursor();var n=this.charStream.getCursor(),i=this.charStream.tokenize(n-t);return parseInt(i,16)}},u.genPunctuationScanner=function(t){for(var i=e.last(t).length,u=e.map(new Array(i),function(){return new Object}),o=i-1;-1!==o;--o)for(var a=t.length-1;-1!==a;--a){var s=t[a][o];if(!s)break;u[o][s]=!0}return function(){this.charStream.fwdCursor();for(var e=0;i>e;++e){var t=this.charStream.getNextChar();if(!u[e][t]){void 0!==t&&this.charStream.bwdCursor();break}}return this.token=this.createTokenFromPos(r.TokenType.punctuation,this.startPos),n.finish}},u.prototype.createTokenSourceLocationFromCursor=function(){return h.create({line:this.startLineno,column:this.relativeStartCursor},this.getCurrentCursorPos())},u.prototype.createTokenFromPos=function(e,t){var r=this.charStream.tokenize(this.absoluteStartCursor);return this.createToken(e,r,t)},u.prototype.createToken=function(e,t,r){var n={type:e,value:t,subType:r};return this.options.loc&&(n.loc=this.createTokenSourceLocationFromCursor()),n},u.prototype.genIntegerFromArray=function(e,t,r){for(var n=0,i=t;r>i;++i)n=10*n+e[i];return n},u.prototype.createNumber=function(e,t,r){var n=t+r;if(0>n){var i=this.genIntegerFromArray(e,0,e.length);return i/Math.pow(10,t-r)}if(n>e.length){var i=this.genIntegerFromArray(e,0,e.length);return i*Math.pow(10,n-e.length)}var i=this.genIntegerFromArray(e,0,n),u=this.genIntegerFromArray(e,n,e.length);return i+u/Math.pow(10,e.length-n)},u.prototype.handleScanHexDigits=function(e,t){var r=this.scanHexDigitsTimes(e);return void 0===r?(this.unexpectedChar(),!1):(t.addCharPoint(r),!0)},u.prototype.handleNewLine=function(){++this.lineno,this.currLineCursor=this.charStream.getCursor()},u.prototype.unexpectedChar=function(e){return e=e||this.charStream.tokenize(this.charStream.getCursor()-1),this.exceptionHandler.addException(e,this.lineno,this.charStream.getCursor()),n.error},u.defaultLexerOptions={loc:!1,readableTokensMode:!0,includeCommentsAsNormalTokens:!0},u}();r.Lexer=c;var h=function(){function e(){}return e.create=function(e,t){return{start:e,end:t}},e}();r.TokenSourceLocation=h}(r=t.lexical||(t.lexical={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(t){var r=function(){function t(e){this.src=e,this.cursor=0}return t.prototype.getNextChar=function(){return this.hasNext()?e.utilities.CharPoints.codePointAt(this.src,this.cursor++):void 0},t.prototype.getChar=function(){return e.utilities.CharPoints.codePointAt(this.src,this.cursor)},t.prototype.getCursor=function(){return this.cursor},t.prototype.bwdCursor=function(){--this.cursor},t.prototype.fwdCursor=function(){this.hasNext()&&++this.cursor},t.prototype.bwdCursorRange=function(e){this.cursor=Math.max(this.cursor-e,0)},t.prototype.tokenize=function(e){return this.src.substring(e,this.cursor)},t.prototype.match=function(e){var t=this.getNextChar();return t===e?!0:(void 0!==t&&this.bwdCursor(),!1)},t.prototype.matchComplex=function(e){var t=this.getNextChar();return e(t)?!0:(void 0!==t&&this.bwdCursor(),!1)},t.prototype.isEof=function(){return this.cursor>=this.src.length},t.prototype.hasNext=function(){return this.cursor<this.src.length},t}();t.CharacterStream=r}(t=e.lexical||(e.lexical={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){function t(e,t){if(!e)throw new Error("Assertion fail: "+t)}e.assert=t}(t=e.utilities||(e.utilities={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.enablePos=e}return e.prototype.createNode=function(e,t){return this.enablePos&&(e.loc=t),e},e.prototype.createProgram=function(e,t){return this.createNode({type:"Program",body:e},t)},e.prototype.createStatementEmpty=function(e){return this.createNode({type:"EmptyStatement"},e)},e.prototype.createStatementBlock=function(e,t){return this.createNode({
type:"BlockStatement",body:e},t)},e.prototype.createStatementExpression=function(e,t){return this.createNode({type:"ExpressionStatement",expression:e},t)},e.prototype.createStatementIf=function(e,t,r,n){return this.createNode({type:"IfStatement",test:e,consequent:t,alternate:r},n)},e.prototype.createStatementBreak=function(e,t){return this.createNode({type:"BreakStatement",label:e},t)},e.prototype.createStatementContinue=function(e,t){return this.createNode({type:"ContinueStatement",label:e},t)},e.prototype.createStatementWith=function(e,t,r){return this.createNode({type:"WithStatement",obj:e,body:t},r)},e.prototype.createStatementSwitch=function(e,t,r){return this.createNode({type:"SwitchStatement",discriminant:e,cases:t},r)},e.prototype.createStatementReturn=function(e,t){return this.createNode({type:"ReturnStatement",argument:e},t)},e.prototype.createStatementLabeled=function(e,t,r){return this.createNode({type:"LabeledStatement",label:e,body:t},r)},e.prototype.createStatementThrow=function(e,t){return this.createNode({type:"ThrowStatement",argument:e},t)},e.prototype.createStatementTry=function(e,t,r,n){return this.createNode({type:"TryStatement",block:e,handler:t,finalizer:r},n)},e.prototype.createStatementWhile=function(e,t,r){return this.createNode({type:"WhileStatement",test:e,body:t},r)},e.prototype.createStatementDoWhile=function(e,t,r){return this.createNode({type:"DoWhileStatement",body:e,test:t},r)},e.prototype.createStatementFor=function(e,t,r,n,i){return this.createNode({type:"ForStatement",init:e,test:t,update:r,body:n},i)},e.prototype.createStatementForIn=function(e,t,r,n,i){return this.createNode({type:"ForInStatement",left:e,right:t,body:r,each:n},i)},e.prototype.createStatementDebugger=function(e){return this.createNode({type:"ForInStatement",loc:e},e)},e.prototype.createDeclarationFunction=function(e,t,r,n){return this.createNode({type:"FunctionDeclaration",id:e,params:t,body:r},n)},e.prototype.createDeclarationVariable=function(e,t){return this.createNode({type:"VariableDeclaration",declarations:e,kind:"var"},t)},e.prototype.createVariableDeclarator=function(e,t,r){return this.createNode({type:"VariableDeclarator",id:e,init:t},r)},e.prototype.createExpressionThis=function(e){return this.createNode({type:"ThisExpression",loc:e},e)},e.prototype.createExpressionArray=function(e,t){return this.createNode({type:"ArrayExpression",elements:e},t)},e.prototype.createExpressionObject=function(e,t){return this.createNode({type:"ObjectExpression",properties:e},t)},e.prototype.createObjectProperty=function(e,t,r,n){return this.createNode({type:"Property",key:e,value:t,kind:r},n)},e.prototype.createExpressionFunction=function(e,t,r,n){return this.createNode({type:"FunctionExpression",id:e,params:t,body:r},n)},e.prototype.createExpressionSequence=function(e,t){return this.createNode({type:"SequenceExpression",expressions:e},t)},e.prototype.createExpressionUnary=function(e,t,r,n){return this.createNode({type:"UnaryExpression",operator:e,prefix:t,argument:r},n)},e.prototype.createExpressionBinary=function(e,t,r,n){return this.createNode({type:"BinaryExpression",operator:e,left:t,right:r},n)},e.prototype.createExpressionAssignment=function(e,t,r,n){return this.createNode({type:"AssignmentExpression",operator:e,left:t,right:r},n)},e.prototype.createExpressionUpdate=function(e,t,r,n){return this.createNode({type:"UpdateExpression",operator:e,argument:t,prefix:r},n)},e.prototype.createExpressionLogical=function(e,t,r,n){return this.createNode({type:"LogicalExpression",operator:e,left:t,right:r},n)},e.prototype.createExpressionConditional=function(e,t,r,n){return this.createNode({type:"ConditionalExpression",test:e,alternate:t,consequent:r},n)},e.prototype.createExpressionNew=function(e,t,r){return this.createNode({type:"NewExpression",callee:e,arguments:t},r)},e.prototype.createExpressionCall=function(e,t,r){return this.createNode({type:"CallExpression",callee:e,arguments:t},r)},e.prototype.createExpressionMember=function(e,t,r,n){return this.createNode({type:"MemberExpression",object:e,property:t,computed:r},n)},e.prototype.createSwitchCase=function(e,t,r){return this.createNode({type:"SwitchCase",test:e,consequent:t},r)},e.prototype.createCatchClause=function(e,t,r){return this.createNode({type:"CatchClause",param:e,body:t},r)},e.prototype.createIdentifier=function(e,t){return this.createNode({type:"Identifier",name:e},t)},e.prototype.createLiteral=function(e,t){return this.createNode({type:"Literal",value:e},t)},e}();e.NodeFactory=t}(t=e.syntax||(e.syntax={}))}(t=e.frontend||(e.frontend={}))}(t||(t={}));var t;!function(t){var r;!function(t){var r;!function(r){var n=function(){function n(i,u){this.options=u,this.options=e.defaults(e.clone(u||{}),n.defaultParserOptions),this.nodeFactory=new r.NodeFactory(this.options.loc),this.parseException=new t.utilities.ExceptionHandler,this.charStream=new t.lexical.CharacterStream(i),this.lexException=new t.utilities.ExceptionHandler,this.lex=new t.lexical.Lexer(this.charStream,this.lexException,n.lexerOptions),this.inForIn=!1,this.inLoopMutex=[0],this.inSwitchMutex=[0],this.inFunctionMutex=0}return n.prototype.beginIteration=function(){++this.inLoopMutex[this.inLoopMutex.length-1]},n.prototype.finishIteration=function(){--this.inLoopMutex[this.inLoopMutex.length-1]},n.prototype.newIterationScope=function(){this.inLoopMutex.push(0)},n.prototype.restoreIterationScope=function(){var e=this.inLoopMutex.pop();t.utilities.assert(0===e)},n.prototype.isOnIteration=function(){return this.inLoopMutex[this.inLoopMutex.length-1]>0},n.prototype.beginSwitch=function(){++this.inSwitchMutex[this.inSwitchMutex.length-1]},n.prototype.finishSwitch=function(){--this.inSwitchMutex[this.inSwitchMutex.length-1]},n.prototype.newSwitchScope=function(){this.inSwitchMutex.push(0)},n.prototype.restoreSwitchScope=function(){var e=this.inSwitchMutex.pop();t.utilities.assert(0===e)},n.prototype.isOnSwitch=function(){return this.inSwitchMutex[this.inSwitchMutex.length-1]>0},n.prototype.beginFunction=function(){++this.inFunctionMutex},n.prototype.finishFunction=function(){--this.inFunctionMutex},n.prototype.isOnFunction=function(){return this.inFunctionMutex>0},n.prototype.getExceptions=function(){return this.parseException},n.prototype.addException=function(e){var t=this.lex.isEof(e)?"end of file":e.value;this.parseException.addException("Undexpected token: '"+t+"'",e.loc.start.line,e.loc.start.column)},n.prototype.delegateLexicalErrors=function(){var t=this,r=this.lexException.getExceptions();e.each(r,function(e){return t.parseException.addException(e.msg,e.pos.line,e.pos.column)})},n.prototype.canTolerateError=function(){var e=this.lex.latestToken();return this.options.tolerateErrors&&e&&!(this.lex.isEof(e)||this.lex.isError(e))},n.prototype.parseStatementIfCanTolerate=function(e){var t=this.parseStatement();return t?(e.push(t),!0):this.canTolerateError()},n.prototype.trimOptionalSemicolon=function(){var e=this.lex.lookAheadNextToken();if(this.lex.isPunctuationValue(e,";"))this.lex.nextToken();else if(this.tokenIsInSameLine(e)&&!this.lex.isEof(e)&&!this.lex.isPunctuationValue(e,"}"))return this.addException(e),!1;return!0},n.prototype.trackPositionUnary=function(e){return e.loc},n.prototype.trackPositionByPos=function(e){var r=this.lex.latestToken();return t.lexical.TokenSourceLocation.create(e,r.loc.end)},n.prototype.trackPositionByToken=function(e){var r=this.lex.latestToken();return t.lexical.TokenSourceLocation.create(e.loc.start,r.loc.end)},n.prototype.expectType=function(e,t){var r=this.lex.nextToken();return t.call(this.lex,r,e)?!0:(this.addException(r),!1)},n.prototype.expectPunctuation=function(e){return this.expectType(e,this.lex.isPunctuationValue)},n.prototype.expectKeyword=function(e){return this.expectType(e,this.lex.isKeywordValue)},n.prototype.tokenIsInSameLine=function(e){return e.loc.end.line===this.lex.latestToken().loc.end.line},n.prototype.parse=function(){var e=this.lex.lookAheadNextToken();if(this.lex.isError(e))return void this.delegateLexicalErrors();var t=this.parseSourceElements();if(t)return this.lex.isEof(e)?this.nodeFactory.createProgram(t,this.trackPositionUnary(e)):this.nodeFactory.createProgram(t,this.trackPositionByToken(e))},n.prototype.parseSourceElements=function(){for(var e=[];this.lex.hasNext()&&this.parseStatementIfCanTolerate(e););return e},n.prototype.parseStatement=function(){var e=this.lex.lookAheadNextToken();if(this.lex.isKeyword(e))switch(e.value){case"var":return this.parseVariableStatement();case"if":return this.parseIfStatement();case"while":return this.parseWhileStatement();case"do":return this.parseDoWhileStatement();case"for":return this.parseForStatement();case"continue":return this.parseContinueStatement();case"break":return this.parseBreakStatement();case"with":return this.parseWithStatement();case"switch":return this.parseSwitchStatement();case"throw":return this.parseThrowStatement();case"try":return this.parseTryStatement();case"debugger":return this.parseDebuggerStatement();case"function":return this.parseFunction(!0);case"return":return this.parseReturnStatement()}else if(this.lex.isPunctuation(e))switch(e.value){case"{":return this.parseBlockStatement();case";":return this.parseEmptyStatement()}else if(this.lex.isIdentifier(e))return this.parseLabeledStatement();return this.parseExpressionStatement()},n.prototype.parseBlockStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectPunctuation("{")){for(var t=[],r=this.lex.lookAheadNextToken();!this.lex.isPunctuationValue(r,"}");){if(!this.parseStatementIfCanTolerate(t))return;r=this.lex.lookAheadNextToken()}if(this.expectPunctuation("}"))return this.nodeFactory.createStatementBlock(t,this.trackPositionByToken(e))}},n.prototype.parseEmptyStatement=function(){var e=this.lex.lookAheadNextToken();return this.expectPunctuation(";")?this.nodeFactory.createStatementEmpty(this.trackPositionByToken(e)):void 0},n.prototype.parseIfStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("if");if(t){var r=this.parseStatement();if(r){var n=null;if(!this.lex.matchKeyword("else")||(n=this.parseStatement()))return this.nodeFactory.createStatementIf(t,r,n,this.trackPositionByToken(e))}}},n.prototype.parseIteration=function(e){this.beginIteration();var t=e.apply(this);return this.finishIteration(),t},n.prototype.innerParseWhileStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("while");if(t){var r=this.parseStatement();if(r)return this.nodeFactory.createStatementWhile(t,r,this.trackPositionByToken(e))}},n.prototype.parseWhileStatement=function(){return this.parseIteration(this.innerParseWhileStatement)},n.prototype.innerParseDoWhileStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("do")){var t=this.parseStatement();if(t){var r=this.parseKeywordLparExpressionRpar("while");if(r)return this.lex.matchPunctuation(";"),this.nodeFactory.createStatementDoWhile(t,r,this.trackPositionByToken(e))}}},n.prototype.parseDoWhileStatement=function(){return this.parseIteration(this.innerParseDoWhileStatement)},n.prototype.innerParseForStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("for")&&this.expectPunctuation("(")){var t,r=null,i=null,u=this.lex.lookAheadNextToken();if(!this.lex.isPunctuationValue(u,";")){if(this.inForIn=!0,this.lex.isKeywordValue(u,"var")){if(this.lex.nextToken(),t=this.parseVariableDeclarators(),!t)return;r=this.nodeFactory.createDeclarationVariable(t,this.trackPositionByToken(u))}else if(i=this.parseExpression(),!i)return;this.inForIn=!1}var o=!1,a=null;if(u=this.lex.lookAheadNextToken(),this.lex.isKeywordValue(u,"in")){if(this.lex.nextToken(),o=!0,n.isInvalidForInLeftSide(i,t))return void this.parseException.addException("for in left side should resolve to reference",e.loc.start.line,e.loc.start.column)}else{if(!this.expectPunctuation(";"))return;if(u=this.lex.lookAheadNextToken(),!this.lex.isPunctuationValue(u,";")&&(a=this.parseExpression(),!a))return;if(!this.expectPunctuation(";"))return}var s=null;if(u=this.lex.lookAheadNextToken(),this.lex.isPunctuationValue(u,")")||(s=this.parseExpression())){if(o&&!s)return void this.addException(u);if(this.expectPunctuation(")")){var c=this.parseStatement();if(c){var h=this.trackPositionByToken(e),p=i||r;return o?this.nodeFactory.createStatementForIn(p,s,c,!1,h):this.nodeFactory.createStatementFor(p,a,s,c,h)}}}}},n.isInvalidForInLeftSide=function(e,t){return!e&&!t||e&&!n.isLeftHandExpressionResolvingToReference(e)||t&&1!==t.length},n.prototype.parseForStatement=function(){return this.parseIteration(this.innerParseForStatement)},n.prototype.parseKeywordIdentifierSemicolon=function(e,t){var r=this.lex.lookAheadNextToken();if(this.expectKeyword(e)){var n=this.lex.lookAheadNextToken(),i=null;if((!this.tokenIsInSameLine(n)||!this.lex.isIdentifier(n)||(i=this.parseIdentifier()))&&this.trimOptionalSemicolon())return t.call(this.nodeFactory,i,this.trackPositionByToken(r))}},n.prototype.parseContinueStatement=function(){var e=this.parseKeywordIdentifierSemicolon("continue",this.nodeFactory.createStatementContinue);if(e)return this.isOnIteration()?e:void this.parseException.addException("Illegal continue statement",e.loc.start.line,e.loc.start.column)},n.prototype.parseBreakStatement=function(){var e=this.parseKeywordIdentifierSemicolon("break",this.nodeFactory.createStatementBreak);if(e)return this.isOnIteration()||this.isOnSwitch()?e:void this.parseException.addException("Illegal break statement",e.loc.start.line,e.loc.start.column)},n.prototype.parseReturnStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("return")){var t=this.lex.lookAheadNextToken(),r=null;if(!this.tokenIsInSameLine(t)||this.lex.isPunctuationValue(t,";")||this.lex.isPunctuationValue(t,"}")||this.lex.isEof(t)||(r=this.parseExpression()))return this.isOnFunction()?this.nodeFactory.createStatementReturn(r,this.trackPositionByToken(e)):void this.parseException.addException("Illegal return statement",e.loc.start.line,e.loc.start.column)}},n.prototype.parseWithStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("with");if(t){var r=this.parseStatement();if(r)return this.nodeFactory.createStatementWith(t,r,this.trackPositionByToken(e))}},n.prototype.parseCaseClauseStatements=function(e){if(this.expectPunctuation(":")){for(var t=[];;){var r=this.lex.lookAheadNextToken();if(this.lex.isKeywordValue(r,"case")||this.lex.isPunctuationValue(r,"}")||this.lex.isKeywordValue(r,"default")&&e)break;if(!this.parseStatementIfCanTolerate(t))return}return t}},n.prototype.parseCasesClause=function(e,t){for(var r=this.lex.lookAheadNextToken();this.lex.isKeywordValue(r,"case");){this.lex.nextToken();var n=this.parseExpression();if(!n)return!1;var i=this.parseCaseClauseStatements(t);if(!i)return!1;var u=this.nodeFactory.createSwitchCase(n,i,this.trackPositionByToken(r));e.push(u),r=this.lex.lookAheadNextToken()}return!0},n.prototype.innerParseSwitchStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseKeywordLparExpressionRpar("switch");if(t&&this.expectPunctuation("{")){var r=[],n=this.lex.lookAheadNextToken();if(this.lex.isKeywordValue(n,"case")){if(!this.parseCasesClause(r,!0))return;n=this.lex.lookAheadNextToken()}if(this.lex.isKeywordValue(n,"default")){this.lex.nextToken();var i=this.parseCaseClauseStatements(!1);if(!i)return;var u=this.nodeFactory.createSwitchCase(null,i,this.trackPositionByToken(n));r.push(u),n=this.lex.lookAheadNextToken()}if((!this.lex.isKeywordValue(n,"case")||this.parseCasesClause(r,!1))&&this.expectPunctuation("}"))return this.nodeFactory.createStatementSwitch(t,r,this.trackPositionByToken(e))}},n.prototype.parseSwitchStatement=function(){this.beginSwitch();var e=this.innerParseSwitchStatement();return this.finishSwitch(),e},n.prototype.parseThrowStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("throw")){var t=this.lex.lookAheadNextToken();if(e.loc.start.line!==t.loc.start.line)return void this.parseException.addException("Illegal newline after throw",e.loc.start.line,e.loc.start.column);var r=this.parseExpression();if(r&&this.trimOptionalSemicolon())return this.nodeFactory.createStatementThrow(r,this.trackPositionByToken(e))}},n.prototype.parseTryStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("try")){var t=this.parseBlockStatement();if(t){var r=this.lex.lookAheadNextToken(),n=null;if(this.lex.isKeywordValue(r,"catch")){var i=this.parseKeywordLparExpressionRpar("catch");if(!i||"Identifier"!==i.type)return;var u=this.parseBlockStatement();if(!u)return;n=this.nodeFactory.createCatchClause(i,u,this.trackPositionByToken(r))}var o=null;if(!this.lex.matchKeyword("finally")||(o=this.parseBlockStatement()))return this.nodeFactory.createStatementTry(t,n,o,this.trackPositionByToken(e))}}},n.prototype.parseDebuggerStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("debugger")&&this.trimOptionalSemicolon())return this.nodeFactory.createStatementDebugger(this.trackPositionByToken(e))},n.prototype.parseLabeledStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseExpression();if(t){if("Identifier"===t.type&&this.lex.matchPunctuation(":")){var r=this.parseStatement();if(!r)return;return this.nodeFactory.createStatementLabeled(t,r,this.trackPositionByToken(e))}if(this.trimOptionalSemicolon())return this.nodeFactory.createStatementExpression(t,this.trackPositionByToken(e))}},n.prototype.parseKeywordLparExpressionRpar=function(e){if(this.expectKeyword(e)&&this.expectPunctuation("(")){var t=this.parseExpression();return t&&this.expectPunctuation(")")?t:void 0}},n.prototype.parseVariableStatement=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("var")){var t=this.parseVariableDeclarators();if(this.trimOptionalSemicolon())return this.nodeFactory.createDeclarationVariable(t,this.trackPositionByToken(e))}},n.prototype.parseExpressionStatement=function(){var e=this.lex.lookAheadNextToken(),t=this.parseExpression();return t&&this.trimOptionalSemicolon()?this.nodeFactory.createStatementExpression(t,this.trackPositionByToken(e)):void 0},n.prototype.parseVariableDeclarators=function(){var e=this.parseVariableDeclarator();if(e){for(var t=[e];this.lex.matchPunctuation(",");){var r=this.parseVariableDeclarator();if(!r)return;t.push(r)}return t}},n.prototype.parseVariableDeclarator=function(){var e=this.lex.lookAheadNextToken(),t=this.parseIdentifier();if(t){var r=null;if(!this.lex.matchPunctuation("=")||(r=this.parseAssignmentExpression()))return this.nodeFactory.createVariableDeclarator(t,r,this.trackPositionByToken(e))}},n.prototype.parseExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseAssignmentExpression();if(t){if(this.lex.matchPunctuation(",")){var r=[t];do{var n=this.parseAssignmentExpression();if(!n)return;r.push(n)}while(this.lex.matchPunctuation(","));return this.nodeFactory.createExpressionSequence(r,this.trackPositionByToken(e))}return t}},n.isLeftHandExpressionResolvingToReference=function(e){return"Identifier"===e.type||"MemberExpression"===e.type},n.prototype.parseAssignmentExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseConditionalExpression();if(t){var r=this.lex.lookAheadNextToken();if(this.lex.isPunctuation(r)&&n.AssignmentOperators[r.value]){if(!n.isLeftHandExpressionResolvingToReference(t))return void this.parseException.addException("Invalid left-hand side in assignment",r.loc.start.line,r.loc.start.column);this.lex.nextToken();var i=this.parseAssignmentExpression();if(!i)return;return this.nodeFactory.createExpressionAssignment(r.value,t,i,this.trackPositionByToken(e))}return t}},n.prototype.parseConditionalExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseBinaryExpression();if(t){var r=this.lex.lookAheadNextToken();if(this.lex.isPunctuationValue(r,"?")){this.lex.nextToken();var n=this.parseAssignmentExpression();if(!n)return;if(!this.expectPunctuation(":"))return;var i=this.parseAssignmentExpression();if(!i)return;return this.nodeFactory.createExpressionConditional(t,i,n,this.trackPositionByToken(e))}return t}},n.isLogicBinaryTokenValue=function(e){return e<=n.BinaryTokenValues_islogic},n.getBinaryOperationToken=function(e,t){return"in"===e?t?n.BinaryTokenValues[e]:void 0:n.BinaryTokenValues[e]},n.prototype.createBinaryExpression=function(e,r,i,u){var o=this.options.loc?t.lexical.TokenSourceLocation.create(i.loc.start,u.loc.end):void 0;return n.isLogicBinaryTokenValue(e)?this.nodeFactory.createExpressionLogical(r,i,u,o):this.nodeFactory.createExpressionBinary(r,i,u,o)},n.prototype.innerBarseBinaryExpression=function(t){var r=this.parseUnaryExpression();if(r){var i=this.lex.lookAheadNextToken(),u=n.getBinaryOperationToken(i.value,t);if(u&&(this.lex.isPunctuation(i)||this.lex.isKeyword(i))){this.lex.nextToken();var o=this.parseUnaryExpression();if(!o)return;for(var a=[r,o],s=[i.value],c=[u];;){i=this.lex.lookAheadNextToken();var h=n.getBinaryOperationToken(i.value,t);if(!h||!this.lex.isPunctuation(i)&&!this.lex.isKeyword(i))break;this.lex.nextToken();var p=this.parseUnaryExpression();if(!p)return;for(var l=e.last(c);l&&l>=h;){var f=a.pop(),D=a.pop(),d=this.createBinaryExpression(c.pop(),s.pop(),D,f);a.push(d),l=e.last(c)}c.push(h),s.push(i.value),a.push(p)}for(r=a.pop();s.length;)r=this.createBinaryExpression(c.pop(),s.pop(),a.pop(),r)}return r}},n.prototype.parseBinaryExpression=function(){var e=this.inForIn;this.inForIn=!1;var t=this.innerBarseBinaryExpression(!e);return this.inForIn=e,t},n.prototype.parseUnaryExpression=function(){var e=this.lex.lookAheadNextToken(),t=n.UnaryTokenValues[e.value];if(t&&(this.lex.isPunctuation(e)||this.lex.isKeyword(e))){this.lex.nextToken();var r=this.parseUnaryExpression();if(!r)return;return t===n.UnaryTokenValues_update?this.nodeFactory.createExpressionUpdate(e.value,r,!0,this.trackPositionByToken(e)):this.nodeFactory.createExpressionUnary(e.value,!0,r,this.trackPositionByToken(e))}return this.parsePostfixExpression()},n.prototype.parsePostfixExpression=function(){var e=this.lex.lookAheadNextToken(),t=this.parseLeftHandSideExpression(!0);if(t){var r=this.lex.lookAheadNextToken();return!this.lex.isPunctuation(r)||r.loc.end.line!==this.lex.latestToken().loc.end.line||"++"!==r.value&&"--"!==r.value?t:(this.lex.nextToken(),this.nodeFactory.createExpressionUpdate(r.value,t,!1,this.trackPositionByToken(e)))}},n.prototype.parseIdentifier=function(){var e=this.lex.nextToken();return this.lex.isIdentifier(e)?this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e)):void this.addException(e)},n.prototype.parseLeftHandSideExpression=function(e){var t,r=this.lex.lookAheadNextToken();if(this.lex.isKeyword(r))switch(r.value){case"function":t=this.parseFunction(!1);break;case"new":t=this.parseNewExpression()}if(t=t||this.parsePrimaryExpression()){for(var n,i=!0;i;){var u=this.lex.lookAheadNextToken();if(!this.lex.isPunctuation(u))break;switch(u.value){case"[":if(this.lex.nextToken(),n=this.parseExpression(),!n)return;if(!this.expectPunctuation("]"))return;t=this.nodeFactory.createExpressionMember(t,n,!0,this.trackPositionByToken(r));break;case".":this.lex.nextToken();var o=this.parseIdentifier();if(!o)return;t=this.nodeFactory.createExpressionMember(t,o,!1,this.trackPositionByToken(r));break;case"(":if(e){var a=this.parseArguments();if(!a)return;t=this.nodeFactory.createExpressionCall(t,a,this.trackPositionByToken(r));break}default:i=!1}}return t}},n.prototype.parsePrimaryExpression=function(){var e=this.lex.lookAheadNextToken();switch(e.type){case t.lexical.TokenType.keyword:if("this"===e.value)return this.lex.nextToken(),this.nodeFactory.createExpressionThis(this.trackPositionUnary(e));break;case t.lexical.TokenType.identifier:return this.lex.nextToken(),this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e));case t.lexical.TokenType.literal:return this.lex.nextToken(),this.nodeFactory.createLiteral(e.value,this.trackPositionUnary(e));case t.lexical.TokenType.punctuation:switch(e.value){case"[":return this.parseArrayLiteral();case"{":return this.parseObjectLiteral();case"(":var r=(this.lex.nextToken(),this.parseExpression());if(!r)return;return this.lex.matchPunctuation(")")?r:void this.addException(this.lex.nextToken());case"/=":case"/":if(e=this.lex.reinterpretLastTokenAsRegex(e),this.lex.isError(e))return;return this.nodeFactory.createLiteral(e.value,this.trackPositionUnary(e))}}this.addException(e)},n.prototype.parseNewExpression=function(){var e=this.lex.lookAheadNextToken();if(this.expectKeyword("new")){var t=this.parseLeftHandSideExpression(!1);if(t){var r,n=this.lex.lookAheadNextToken();if(!this.lex.isPunctuationValue(n,"(")||(r=this.parseArguments()))return this.nodeFactory.createExpressionNew(t,r||[],this.trackPositionByToken(e))}}},n.prototype.parseArguments=function(){if(this.expectPunctuation("(")){var e=this.lex.lookAheadNextToken(),t=[];if(this.lex.isPunctuationValue(e,")"))return this.lex.nextToken(),t;for(;;){var r=this.parseAssignmentExpression();if(!r)return;if(t.push(r),e=this.lex.nextToken(),this.lex.isPunctuationValue(e,")"))break;if(!this.lex.isPunctuationValue(e,","))return void this.addException(e)}return t}},n.prototype.parseArrayLiteral=function(){var e=this.lex.lookAheadNextToken();if(this.expectPunctuation("[")){var t=[];for(this.trimArrayCommas(t);!this.lex.matchPunctuation("]");){var r=this.parseAssignmentExpression();if(!r)return;t.push(r),this.lex.matchPunctuation(",")&&this.trimArrayCommas(t)}return this.nodeFactory.createExpressionArray(t,this.trackPositionByToken(e))}},n.prototype.trimArrayCommas=function(e){for(;this.lex.matchPunctuation(",");)e.push(null)},n.prototype.parseObjectLiteral=function(){var e=this.lex.lookAheadNextToken();if(this.expectPunctuation("{")){for(var t=[];;){var r=this.lex.lookAheadNextToken();if(this.lex.isPunctuationValue(r,"}")){this.lex.nextToken();break}var n=this.parsePropertyAssignment();if(!n)return;if(t.push(n),r=this.lex.nextToken(),this.lex.isPunctuationValue(r,"}"))break;if(!this.lex.isPunctuationValue(r,","))return void this.addException(r)}return this.nodeFactory.createExpressionObject(t,this.trackPositionByToken(e))}},n.prototype.parsePropertyAssignment=function(){var e,t=this.lex.lookAheadNextToken();e=this.lex.isIdentifierValue(t,"get")?"get":this.lex.isIdentifierValue(t,"set")?"set":"init";var r=this.parsePropertyName();if(r){var n=this.lex.nextToken();if(this.lex.isPunctuationValue(n,":")){var i=this.parseAssignmentExpression();if(!i)return;return this.nodeFactory.createObjectProperty(r,i,e,this.trackPositionByToken(t))}if(this.lex.isPunctuationValue(n,"(")){var u=[];if(n=this.lex.nextToken(),this.lex.isIdentifier(n)){var o=this.nodeFactory.createIdentifier(n.value,this.trackPositionUnary(n));if(u.push(o),!this.expectPunctuation(")"))return}else if(!this.lex.isPunctuationValue(n,")"))return void this.addException(n);if(!this.expectPunctuation("{"))return;var a=this.parseFunctionBody();if(!this.expectPunctuation("}"))return;var s=this.nodeFactory.createExpressionFunction(null,u,a,this.trackPositionByToken(n));return this.nodeFactory.createObjectProperty(r,s,e,this.trackPositionByToken(t))}this.addException(n)}},n.prototype.parsePropertyName=function(){var e=this.lex.nextToken();return this.lex.isLiteral(e)?e.subType===t.lexical.LiteralSubType.string||e.subType===t.lexical.LiteralSubType.number?this.nodeFactory.createLiteral(e.value,this.trackPositionUnary(e)):this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e)):this.lex.isIdentifier(e)?this.nodeFactory.createIdentifier(e.value,this.trackPositionUnary(e)):void this.addException(e)},n.prototype.parseFunction=function(e){var t=this.lex.lookAheadNextToken();if(this.expectKeyword("function")){var r=this.lex.lookAheadNextToken(),n=null;if(this.lex.isIdentifier(r))this.lex.nextToken(),n=this.nodeFactory.createIdentifier(r.value,this.trackPositionUnary(r));else if(e)return void this.addException(r);if(this.expectPunctuation("(")){var i=[];for(r=this.lex.lookAheadNextToken();!this.lex.isPunctuationValue(r,")");){if(!this.lex.isIdentifier(r))return void this.addException(r);this.lex.nextToken();var u=this.nodeFactory.createIdentifier(r.value,this.trackPositionUnary(r));i.push(u),this.lex.matchPunctuation(","),r=this.lex.lookAheadNextToken()}if(this.expectPunctuation(")")){var o=this.parseFunctionBody();if(o)return e?this.nodeFactory.createDeclarationFunction(n,i,o,this.trackPositionByToken(t)):this.nodeFactory.createExpressionFunction(n,i,o,this.trackPositionByToken(t))}}}},n.prototype.parseFunctionBody=function(){this.newSwitchScope(),this.newIterationScope(),this.beginFunction();var e=this.parseBlockStatement();return this.finishFunction(),this.restoreSwitchScope(),this.restoreIterationScope(),e},n.defaultParserOptions={loc:!1,tolerateErrors:!1},n.lexerOptions={loc:!0,readableTokensMode:!1,includeCommentsAsNormalTokens:!1},n.AssignmentOperators={"=":!0,"||":!0,"*=":!0,"/=":!0,"%=":!0,"+=":!0,"-=":!0,"<<=":!0,">>=":!0,">>>=":!0,"&=":!0,"^=":!0,"|=":!0},n.BinaryTokenValues_or=1,n.BinaryTokenValues_and=2,n.BinaryTokenValues_islogic=n.BinaryTokenValues_and,n.BinaryTokenValues_bor=3,n.BinaryTokenValues_xor=4,n.BinaryTokenValues_band=5,n.BinaryTokenValues_eq=6,n.BinaryTokenValues_rel=7,n.BinaryTokenValues_shift=8,n.BinaryTokenValues_add=9,n.BinaryTokenValues_multi=10,n.BinaryTokenValues={"||":n.BinaryTokenValues_or,"&&":n.BinaryTokenValues_and,"|":n.BinaryTokenValues_bor,"^":n.BinaryTokenValues_xor,"&":n.BinaryTokenValues_band,"==":n.BinaryTokenValues_eq,"!=":n.BinaryTokenValues_eq,"===":n.BinaryTokenValues_eq,"!==":n.BinaryTokenValues_eq,"<":n.BinaryTokenValues_rel,">":n.BinaryTokenValues_rel,"<=":n.BinaryTokenValues_rel,">=":n.BinaryTokenValues_rel,"instanceof":n.BinaryTokenValues_rel,"in":n.BinaryTokenValues_rel,"<<":n.BinaryTokenValues_shift,">>":n.BinaryTokenValues_shift,">>>":n.BinaryTokenValues_shift,"+":n.BinaryTokenValues_add,"-":n.BinaryTokenValues_add,"*":n.BinaryTokenValues_multi,"/":n.BinaryTokenValues_multi,"%":n.BinaryTokenValues_multi},n.UnaryTokenValues_unary=1,n.UnaryTokenValues_update=2,n.UnaryTokenValues={"-":n.UnaryTokenValues_unary,"+":n.UnaryTokenValues_unary,"!":n.UnaryTokenValues_unary,"~":n.UnaryTokenValues_unary,"typeof":n.UnaryTokenValues_unary,"void":n.UnaryTokenValues_unary,"delete":n.UnaryTokenValues_unary,"++":n.UnaryTokenValues_update,"--":n.UnaryTokenValues_update},n}();r.Parser=n}(r=t.syntax||(t.syntax={}))}(r=t.frontend||(t.frontend={}))}(t||(t={}));var t;return!function(e){var t;!function(e){var t;!function(t){function r(t,r){for(var n=new e.lexical.CharacterStream(t),i=new e.utilities.ExceptionHandler,u=new e.lexical.Lexer(n,i,r),o=[];u.hasNext();){var a=u.nextToken();o.push(a)}var s={tokens:o};return i.hasExceptions()&&(s.exceptions=i.getExceptions()),s}function n(t,r){var n=new e.syntax.Parser(t,r),i=n.parse(),u={program:i},o=n.getExceptions();return o.hasExceptions()&&(u.exceptions=o.getExceptions()),u}t.tokenize=r,t.parse=n}(t=e.api||(e.api={}))}(t=e.frontend||(e.frontend={}))}(t||(t={})),t});